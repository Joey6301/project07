"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="3e58fbb9-6f54-51a6-bea3-a3c802641789")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[373],{710166:(e,t,a)=>{a.d(t,{$h:()=>m,KY:()=>_,M2:()=>n,Mc:()=>i,P_:()=>d,U0:()=>g,cp:()=>p,eF:()=>s,h4:()=>u,jR:()=>o,lF:()=>l,nF:()=>r,x1:()=>c});let n="seat_requests_page--requestsContainer--q73qM",r="seat_requests_page--fileBrowserContentContainer--XDLHx",l="seat_requests_page--fileBrowserScrollableContainer--jtzUg",i="seat_requests_page--avatarColumn--wdn4J seat_requests_page--column--AY8kB admin_settings_page--membersColumn--E3seT table--column--974RA",s="seat_requests_page--seatTypeColumn--x7oeW seat_requests_page--column--AY8kB admin_settings_page--membersColumn--E3seT table--column--974RA",o="seat_requests_page--requestedColumn---Spog seat_requests_page--column--AY8kB admin_settings_page--membersColumn--E3seT table--column--974RA",d="seat_requests_page--noteColumn--bkuO1 seat_requests_page--column--AY8kB admin_settings_page--membersColumn--E3seT table--column--974RA",c="seat_requests_page--dropdownScrollClip--BcpC0",m="seat_requests_page--actionBarButtons--Bt0Es",u="seat_requests_page--actionBarHasContent--Sumt5",_="seat_requests_page--actionBar--Q-X0n",p="seat_requests_page--nudgedRequested--KqdrK",g="seat_requests_page--avatarWithHandle--NwRGw"},559083:(e,t,a)=>{a.d(t,{$J:()=>c,KJ:()=>u,UD:()=>_,Un:()=>m,_f:()=>s,b:()=>o,dv:()=>r,gr:()=>l,jy:()=>d,u1:()=>p,ut:()=>n,v0:()=>i});let n="change_payment_modal--paymentModal--MaB-C",r="change_payment_modal--paymentModalHeader--slkgQ",l="change_payment_modal--paymentModalTitle--P5--Q text--fontPos18--rYXJb text--_fontBase--QdLsd",i="change_payment_modal--buttonRow--yFmfo modal--buttonRow--o2A0S",s="change_payment_modal--buttonRowLeft--QISQ5",o="change_payment_modal--closeButton--qw-3Q",d="change_payment_modal--errorBanner--7rLae",c="change_payment_modal--fixedHeightContainer--1e6gQ",m="change_payment_modal--errorContainer--X086-",u="change_payment_modal--formContainer--i6NlA",_="change_payment_modal--buttonContainer--N43qb",p="change_payment_modal--spinner--8cm5-"},255585:(e,t,a)=>{a.d(t,{Y:()=>n});let n=(0,a(999667).eU)({})},107260:(e,t,a)=>{a.d(t,{A$:()=>m,BC:()=>E,D3:()=>o,Td:()=>f,V4:()=>_,W4:()=>v,Z4:()=>g,aN:()=>u,kl:()=>c,uH:()=>d});var n=a(999667),r=a(967688),l=a(179040),i=a(596510);a(834612);var s=a(17753),o=(e=>(e.AVAILABLE_SEAT="available_seat",e.PRORATION_NOT_ENABLED="proration_not_enabled",e.MISSING_CURRENCY="missing_currency",e))(o||{});let d="admin_requests_dashboard",c="admin_seat_requests_page",m="admin_request_flyout",u=(0,n.eU)(!1),_=(0,n.eU)(new Set),p=e=>e.reduce((e,t)=>{let a=t.billableProductKey;return e[a]=(e[a]??0)+1,e},{});function g(e,t){let a=p(e);return Object.keys(a).some(e=>t[e]<a[e])}var E=(e=>(e.REQUESTED="request",e))(E||{});function v(e){return e?{columnName:"request",isReversed:e===i.i5.OLDEST_FIRST}:{columnName:"",isReversed:!1}}function f(e,t,a,n){return a||void 0===t?{"data-tooltip":void 0,"data-tooltip-type":void 0}:{"data-tooltip":null===t.price&&"available_seat"===t.reason?n?(0,r.t)("admin_dashboard.requests.approve.no_cost_associated"):(0,r.t)("admin_dashboard.requests.approve.seat_paid_for"):t.price&&n?(0,r.t)("admin_dashboard.requests.approve.cost_associated",{seatType:(0,l.tI)(e),seatCost:t.price}):(0,r.t)("admin_dashboard.requests.approve.adds_paid_seat",{seatType:(0,l.tI)(e)}),"data-tooltip-type":s.Ib.TEXT,"data-tooltip-show-above":!0,"data-tooltip-show-immediately":!0,"data-tooltip-hide-immediately":!0}}},596510:(e,t,a)=>{a.d(t,{Bk:()=>x,L8:()=>v,Lv:()=>b,MI:()=>h,OL:()=>g,V7:()=>T,Xv:()=>S,YC:()=>p,ZY:()=>M,Zm:()=>O,dC:()=>E,i5:()=>N,k_:()=>f,lJ:()=>R,oc:()=>w,ps:()=>y,r1:()=>I,uH:()=>A,yz:()=>k,z7:()=>L});var n=a(848318),r=a(410725),l=a(748008),i=a(227276),s=a(345964),o=a(297638),d=a(967688),c=a(925085),m=a(523669),u=a(578590),_=a(55116);let p="UPGRADE_REQUESTS_PRODUCT_DROPDOWN",g="UPGRADE_REQUESTS_BILLING_GROUP_DROPDOWN",E="UPGRADE_REQUESTS_SORT_DROPDOWN",v="UPGRADE_REQUESTS_USER_TYPE_DROPDOWN",f="request",b="\u2013",h=50;var y=(e=>(e.TEAM="Team",e.ORG="Org",e))(y||{}),T=(e=>(e.ALL_UNASSIGNED_REQUESTS="all_unassigned_requests",e.ALL_MANAGED_REQUESTS="all_managed_requests",e.ALL_ORG_REQUESTS="all_org_requests",e.INDIVIDUAL_BILLING_GROUP_REQUESTS="individual_billing_group_requests",e))(T||{}),I=(e=>(e.MEMBERS="members",e.GUESTS="guests",e))(I||{}),S=(e=>(e.APPROVE_ALL="APPROVE_ALL",e.BULK_SELECT="BULK_SELECT",e.SINGLE="SINGLE",e.EMAIL="EMAIL",e.DEEPLINK="DEEPLINK",e))(S||{});let A="admin_requests_dashboard",w="billing_group_admin_requests_dashboard";var N=(e=>(e.NEWEST_FIRST="NEWEST_FIRST",e.OLDEST_FIRST="OLDEST_FIRST",e))(N||{});let R={NEWEST_FIRST:()=>(0,d.t)("admin_dashboard.requests.sort.newest_first"),OLDEST_FIRST:()=>(0,d.t)("admin_dashboard.requests.sort.oldest_first")},C={[u.Te.DESIGN]:{name:()=>(0,d.t)("admin_dashboard.requests.design_seat"),icon:"file-design-16-file-type"},[u.Te.WHITEBOARD]:{name:()=>(0,d.t)("admin_dashboard.requests.figjam_seat"),icon:"file-figjam-16-file-type"},[u.Te.DEV_MODE]:{name:()=>(0,d.t)("admin_dashboard.requests.devmode_seat"),icon:"file-devmode-16-file-type"}};function k({licenseType:e}){let t=C[e];return n.createElement(c.Y,{spacing:8},n.createElement(m.In,{icon:t.icon}),n.createElement("div",null,t.name()))}function x(e){return e.trim().slice(0,h)}function O({text:e,showSpinner:t}){return n.createElement("div",{className:o.s.flex.itemsCenter.justifyCenter.$},n.createElement("span",{className:t?o.s.invisible.$:""},e),t&&n.createElement(s.kt,{className:o.s.absolute.$,shouldMatchTextColor:!0,size:"small"}))}function L({planType:e,planId:t,filterParams:a,processedRequestIds:i}){let s=(0,r.Rs)(_.FuG,{planType:e,planId:t,filterParams:a});return(0,n.useMemo)(()=>{let e="loaded"===s.status&&s.data?.adminDashboardRequestIds?.status===l.tT.Loaded?s.data?.adminDashboardRequestIds?.data?.map(e=>e.id)??[]:null;return null!==e?e.filter(e=>!i.has(e)):null},[s,i])}function M({isIntendedAudience:e}){let t=(0,i.I7)("exp_billing_group_admin_request_dash");return void 0!==e&&e&&t.getConfig().get("enabled",!1)}},743093:(e,t,a)=>{a.d(t,{Rj:()=>y,Zu:()=>S,eS:()=>h});var n=a(848318),r=a(301168),l=a(82433),i=a(580494),s=a(190243),o=a(345964),d=a(178806),c=a(967688);if(443==a.j)var m=a(901617);var u=a(890201);if(443==a.j)var _=a(596510);var p=a(453370),g=a(957872),E=a(209595),v=a(318147),f=a(912534),b=a(850768);function h(){let e=(0,r.wA)(),t=(0,E.z3)();return"orgAdminSettings"!==t&&"seatRequests"!==t?n.createElement(n.Fragment,null):n.createElement(d.$z,{variant:"secondary",onClick:()=>{e(p.$T({view:"orgAdminSettings",orgAdminSettingsViewTab:b.J7.ACTIVITY,activityTabInitialEventOptionId:"activity_log.filter.upgrade_requests_and_activity"}))},htmlAttributes:{"data-testid":"admin-dashboard-view-history-button"},trackingProperties:{trackingDescriptor:g.c.VIEW_HISTORY}},(0,c.t)("admin_dashboard.requests.view_history"))}function y({planId:e,planType:t,configuredUpgradeRequestSetting:a}){return t===_.ps.TEAM?n.createElement(T,null):n.createElement(I,{orgId:e,configuredUpgradeRequestSetting:a})}function T(){let e=(0,r.wA)(),t=(0,r.d4)(e=>e.teamBilling),a=t.summary.currency,l=t.summary.monthly_subscription?f.IX.MONTH:f.IX.YEAR,s=(0,i.k)().temp_rum_logging?{addToRUM:!0}:void 0;return n.createElement(d.$z,{htmlAttributes:{"data-testid":"admin-dashboard-approval-settings-button","data-onboarding-key":m.qf},onClick:(0,u.S)({dispatch:e,currency:a,renewalTerm:l}),variant:"secondary",trackingProperties:{trackingDescriptor:g.c.APPROVAL_SETTINGS},trackingOptions:s},(0,c.tx)("admin_dashboard.requests.approval_settings"))}function I({orgId:e,configuredUpgradeRequestSetting:t}){let a=(0,r.wA)(),l=(0,s.Xf)(e),o=l.data?.currency,_=t===v.Sm.ALL_USERS?(0,u.d)({dispatch:a}):(0,u.S)({dispatch:a,currency:o,renewalTerm:f.IX.YEAR,isCurfEnabledForMembers:t===v.Sm.MEMBERS}),p=(0,i.k)().temp_rum_logging?{addToRUM:!0}:void 0;return n.createElement(d.$z,{htmlAttributes:{"data-testid":"admin-dashboard-approval-settings-button","data-onboarding-key":m.qf},onClick:_,variant:"secondary",trackingProperties:{trackingDescriptor:g.c.APPROVAL_SETTINGS},trackingOptions:p},(0,c.tx)("admin_dashboard.requests.approval_settings"))}function S({text:e,showSpinner:t}){return n.createElement("div",{className:"x78zum5 x6s0dn4 xl56j7k"},n.createElement("div",{...l.xk(A.text,t&&A.invisibleText)},e),t&&n.createElement(o.kt,{shouldMatchTextColor:!0,size:"small",className:"x10l6tqk"}))}let A={text:{margin:"x1bpp3o7",marginInline:null,marginInlineStart:null,marginLeft:null,marginInlineEnd:null,marginRight:null,marginBlock:null,marginTop:null,marginBottom:null,$$css:!0},invisibleText:{visibility:"xlshs6z",$$css:!0}}},153494:(e,t,a)=>{a.d(t,{E:()=>o});var n=a(848318),r=a(999667),l=a(129170),i=a(255585),s=a(596510);function o({refreshNonce:e,refreshTabCountNonce:t,viewableBillingGroupIds:a,planType:o,planId:d,managedRequests:c,showAllOrgRequests:m,selectedRequestView:u,processedRequestIds:_,showBillingGroupAdminRequests:p,isOrgAdmin:g}){let[E,v]=(0,r.fp)(i.Y),f=m||p,b=f?[o,d,c].toString():[o,d].toString(),h=(0,n.useMemo)(()=>JSON.stringify(f?{refreshNonce:e,refreshTabCountNonce:t,billing_group_ids:c?a:null}:{refreshNonce:e,billing_group_ids:g?[null]:[]}),[e,t,c,a,f,g]),y=(0,s.z7)({planType:o,planId:d,filterParams:h,processedRequestIds:_}),[T,I]=(0,n.useState)(null);return n.useEffect(()=>{if(null!==y&&(I(y.length),c)){let e={...E};e[b]=y.length,v(e)}},[y,b]),null!==T&&(y?.length!==0||m)&&n.createElement(l.Ex,{text:T.toString(),color:c&&u===s.V7.ALL_MANAGED_REQUESTS||!c&&u===s.V7.ALL_ORG_REQUESTS?l.zE.LIGHT:l.zE.DEFAULT,dataTestId:"table-row-count-badge"})||n.createElement("div",null)}},805409:(e,t,a)=>{a.d(t,{fq:()=>i,uE:()=>s,ur:()=>o});var n=a(918777),r=a(637603),l=a(738105),i=(e=>(e.ORG_PAST_DUE_INVOICE="org_past_due_invoice",e.ORG_OPEN_INVOICE="org_open_invoice",e.ORG_UPCOMING_TRUE_UP_LOCKED="org_upcoming_true_up_locked",e.ORG_UPCOMING_TRUE_UP_REVIEW="org_upcoming_true_up_review",e.ORG_UPCOMING_RENEWAL_NON_AUTOMATIC="org_upcoming_renewal_non_automatic",e.ORG_UPCOMING_ADDITIVE_INVOICE="org_upcoming_additive_invoice",e.ORG_UPCOMING_INVOICE="org_upcoming_invoice",e.BILLING_GROUP_UPCOMING_TRUE_UP="billing_group_upcoming_true_up",e.BILLING_GROUP_UPCOMING_RENEWAL="billing_group_upcoming_renewal",e))(i||{});function s(e){if(0===e.invoices.length)return null;let t=(0,l.vY)(e.invoices);if(t)return{id:"org_past_due_invoice",notification:!0,data:{pastDueAt:(0,n.A)(t.past_due_at).toDate(),planInvoiceId:(0,l.xu)(t)}};let a=(0,l.C5)(e.invoices,"open");if(a)return{id:"org_open_invoice",notification:!0,data:{pastDueAt:(0,n.A)(a.past_due_at).toDate(),planInvoiceId:(0,l.xu)(a)}};let r=(0,l.C5)(e.invoices,"locked");if(r)return{id:"org_upcoming_true_up_locked",notification:!1,data:{issuedAt:(0,n.A)(r.due_at).toDate()}};let i=(0,l.C5)(e.invoices,"upcoming");if(!i)return null;let s=(0,l.UO)(i,e.renewalAt),o=!(0,l.D1)(i),d=s&&o&&e.campfireRenewalEnabled;if(!(0,l.tl)(i.due_at)||i.is_skipped_trueup||d)return null;let c=(0,l.go)(i),m=e.org.has_automatic_upcoming_invoice;return c&&(m||!s)?{id:"org_upcoming_true_up_review",notification:!0,data:{issuedAt:(0,n.A)(i.due_at).toDate()}}:s&&!m?{id:"org_upcoming_renewal_non_automatic",notification:!0,data:{periodStartAt:(0,n.A)(i.period_start_at).toDate()}}:!(0,l.ev)(i)&&o?{id:"org_upcoming_additive_invoice",notification:!0,data:{issuedAt:(0,n.A)(i.due_at).toDate()}}:{id:"org_upcoming_invoice",notification:!0,data:{issuedAt:(0,n.A)(i.due_at).toDate()}}}function o(e){if(0===e.invoices.length)return null;let t=(0,l.C5)(e.invoices,"upcoming");if(!t)return null;let a=(0,l.go)(t),{groupsUserIsAdminOf:i}=e.userId?(0,r.EQ)(e.licenseGroups,e.userId,!0):{groupsUserIsAdminOf:[]},{groupsToReview:s}=(0,r.Cz)(i,e.invoices);return a&&s.length>0?{id:"billing_group_upcoming_true_up",notification:!0,data:{groupsToReview:s}}:(0,l.tl)(t.due_at)&&!(0,l.D1)(t)&&(0,l.UO)(t,e.renewalAt)&&"loaded"===e.renewalConfirmed.status&&!e.renewalConfirmed.data?{id:"billing_group_upcoming_renewal",notification:!0,data:{periodStartAt:(0,n.A)(t.period_start_at).toDate()}}:null}},648998:(e,t,a)=>{a.d(t,{s:()=>m,u:()=>u});var n=a(848318),r=a(301168),l=a(637640);if(443==a.j)var i=a(238462);var s=a(967688),o=a(952039),d=a(113752),c=a(421724);function m(){let e=(0,r.wA)();return{dispatchSuccess:({approve:t,numRequests:a,asyncUpdate:n})=>{let r=t?(0,s.t)("admin_dashboard.requests.success_approve_seat_changed",{numRequests:a}):(0,s.t)("admin_dashboard.requests.success_deny_multiple",{numRequests:a});t&&n&&(r=(0,s.t)("admin_dashboard.requests.success_approve_seat_changed_async",{numRequests:a})),e(o.F.enqueue({message:r,icon:t?d.zX.CHECK_WITH_CIRCLE:void 0,type:t?"requests-approved":"requests-denied",onDismiss:i.lQ}))},dispatchSuccessWithRequesterName:({requesterName:t})=>{e(o.F.enqueue({message:(0,s.t)("admin_dashboard.requests.success_approve_with_name",{requesterName:t}),icon:d.zX.CHECK_WITH_CIRCLE,type:"requests-approved",onDismiss:i.lQ}))},dispatchRequestAlreadyHandled:()=>{e(o.F.enqueue({message:(0,s.t)("admin_dashboard.requests.this_request_has_already_been_handled"),type:"requests-approved"}))},dispatchProcessingError:({multiple:t})=>{e(o.F.enqueue({message:t?(0,s.t)("admin_dashboard.requests.error_multiple"):(0,s.t)("admin_dashboard.requests.error_single"),error:!0,button:{text:(0,s.t)("admin_dashboard.requests.error_reload"),action:()=>{l.Ay.reload("Admin requests dashboard error")}}}))},dispatchGenericError:()=>{e(o.F.enqueue({message:(0,s.t)("admin_dashboard.requests.error_generic"),error:!0,button:{text:(0,s.t)("admin_dashboard.requests.error_reload"),action:()=>{l.Ay.reload("Admin requests dashboard error")}}}))}}}function u(e,t){let a=(0,r.wA)();(0,n.useEffect)(()=>{e&&!t&&a(c.Jt({forceRefetch:!0}))},[a,e,t])}},242520:(e,t,a)=>{a.d(t,{n:()=>p});var n=a(848318),r=a(301168),l=a(190243),i=a(640724),s=a(618542),o=a(107260),d=a(261737),c=a(861119),m=a(594950),u=a(834612),_=a(709884);function p(e,t){let a=(0,r.wA)(),{seatAvailability:p}=(0,d.k)(e),g=(0,i.k)(),[E,v]=(0,n.useState)(),f=e.key.type===_.OL.ORG,b=(0,l.Xf)(e.key.parentId,f),h=(0,r.d4)(e=>e.teamBilling),y=f?b.data?.currency:h.summary.currency;(0,n.useEffect)(()=>{async function n(){v(await a(c.I1({orgId:e?.key.parentId??"",userId:t?.userId??""})))}f&&n()},[a,f,e?.key.parentId,e?.key.type,t?.userId]);let T=(f?E?.active_seat_type?.key:t?.currentSeat.billableProductKey)??m.Gu.VIEW,I=f?void 0:t?.currentSeat.billingInterval,S=(0,s.un)({planKey:e.key,currentSeatType:T,currentSeatBillingInterval:I,enabled:!!y});return{calculateCostForSeatTypeIncrease:(0,n.useCallback)(()=>{let e=t?.billableProductKey,a=p[e]>0;return void 0===y?{price:null,reason:o.D3.MISSING_CURRENCY}:"loaded"!==S.status||null===S.data?void 0:a?{price:null,reason:o.D3.AVAILABLE_SEAT}:g?{price:new u.vr(y).formatMoney(S.data[e].amount,{showCents:!1})}:{price:null,reason:o.D3.PRORATION_NOT_ENABLED}},[t?.billableProductKey,p,y,S.status,S.data,g]),status:S.status}}},261737:(e,t,a)=>{a.d(t,{k:()=>i});var n=a(880158),r=a(501104);let l=r.Ye.dict(()=>0);function i(e){let t=(0,n.hY)(e.key.parentId??"",e.key.type);return{seatAvailability:"loaded"===t.status?r.Ye.dict(e=>t.data[e].available):l,status:t.status}}},854472:(e,t,a)=>{a.d(t,{W:()=>E});var n=a(848318),r=a(301168),l=a(582039),i=a(309488),s=a(93275),o=a(190243),d=a(178806),c=a(967688),m=a(31898),u=a(957872),_=a(863270),p=a(709884),g=a(991675);let E=(0,a(446951).Ju)(function(e){let t;let a=l.hS(e),E=(0,r.wA)(),v=(0,o.Xf)(e.plan.key.parentId,e.plan.key.type!==p.OL.TEAM),f=(0,r.d4)(e=>e.teamBilling),b=e.plan.key.type===p.OL.TEAM?f.summary.currency:v.data?.currency,h=()=>E(m.Ce());return t=!b||e.isELA?e.filteredRowCount!==e.numRequestsToApprove?n.createElement("p",null,(0,c.tx)(1===e.numRequestsToApprove?"admin_dashboard.seat_requests.approve_all_modal.body.filtered_requests.single":"admin_dashboard.seat_requests.approve_all_modal.body.filtered_requests.multiple",{numFilteredRequests:e.numRequestsToApprove-e.filteredRowCount,numRequests:e.numRequestsToApprove})):n.createElement("p",null,(0,c.tx)("admin_dashboard.seat_requests.approve_all_modal.body.no_cost",{numRequests:e.numRequestsToApprove})):n.createElement(n.Fragment,null,e.filteredRowCount!==e.numRequestsToApprove&&n.createElement(n.Fragment,null,n.createElement("p",null,(0,c.tx)(1===e.numRequestsToApprove?"admin_dashboard.seat_requests.approve_all_modal.body.filtered_requests.single":"admin_dashboard.seat_requests.approve_all_modal.body.filtered_requests.multiple",{numFilteredRequests:e.numRequestsToApprove-e.filteredRowCount,numRequests:e.numRequestsToApprove})),n.createElement("br",null)),n.createElement("p",null,(0,c.tx)("admin_dashboard.seat_requests.approve_all_modal.body"))),n.createElement(i.bL,{manager:a,width:"lg"},n.createElement(_.fu,{name:g.e0.APPROVE_ALL_CONFIRMATION_MODAL,properties:{planType:e.plan.key.type,planId:e.plan.key.parentId,entryPoint:e.entryPoint}},n.createElement(s.vo,null,n.createElement(s.Y9,null,n.createElement(s.hE,null,(0,c.tx)("admin_dashboard.seat_requests.approve_all_modal.title"))),n.createElement(s.nB,null,t),n.createElement(s.wi,null,n.createElement(s.jk,null,n.createElement(d.$z,{variant:"secondary",onClick:h,trackingProperties:{trackingDescriptor:u.c.CANCEL}},(0,c.tx)("admin_dashboard.seat_requests.approve_all_modal.cancel")),n.createElement(d.$z,{variant:"primary",onClick:()=>{h(),e.onConfirm()},trackingProperties:{trackingDescriptor:u.c.APPROVE_ALL}},(0,c.tx)("admin_dashboard.seat_requests.approve_all_modal.approve_number_of_requests",{numRequests:e.numRequestsToApprove})))))))},"ApproveAllConfirmationModal")},438094:(e,t,a)=>{a.d(t,{m:()=>el});var n=a(848318),r=a(301168),l=a(938982),i=a(410725),s=a(748008),o=a(297638),d=a(640724),c=a(107260),m=a(242520),u=a(317567),_=a(387690),p=a(861119),g=a(198850),E=a(594950),v=a(694930),f=a(318147),b=a(55116),h=a(138528),y=a(580494),T=a(999667),I=a(178806),S=a(967688),A=a(743093),w=a(957872);function N({onClose:e,onApprove:t,onDecline:a,requestId:r}){let l=(0,T.md)(c.aN),i=(0,T.md)(c.V4),s=!!l||i.has(r),d=(0,y.k)().temp_rum_logging?{addToRUM:!0}:void 0;return n.createElement("div",{className:o.s.wFull.flex.flexColumn.gap8.$},n.createElement(I.lR,{onClick:()=>{t(),e()},disabled:s,trackingProperties:{trackingDescriptor:w.c.APPROVE},trackingOptions:d},n.createElement(A.Zu,{text:(0,S.t)("admin_dashboard.request_flyout.approve"),showSpinner:"approving"===l&&i.has(r)})),n.createElement(I.lR,{onClick:()=>{a(),e()},variant:"secondary",disabled:s,trackingProperties:{trackingDescriptor:w.c.DECLINE},trackingOptions:d},n.createElement(A.Zu,{text:(0,S.t)("admin_dashboard.request_flyout.decline"),showSpinner:"declining"===l&&i.has(r)})))}a(82433);var R=a(989232),C=a(461979),k=a(173926),x=a(136126),O=a(334804),L=a(744577),M=a(72464),q=a(792533),P=a(531788),D=a(983376),U=a(460331),F=a(190243),B=a(909834);function G({seatType:e,seatCostResult:t,isProrationBillingEnabled:a,planUser:l}){let i=(0,r.wA)(),s=(0,h.tJ)("SeatCostInfo",{useSidebarOrOpenFile:!0}).unwrapOr(null),o=t.reason===c.D3.AVAILABLE_SEAT,d=o?n.createElement(D.y,null):n.createElement(U.S,null),m=s?.key.type===f.OL.ORG,u=(0,F.Xf)(s?.key.parentId,s?.key.type!==f.OL.TEAM),_=(0,r.d4)(e=>e.teamBilling),p=s?.key.type===f.OL.TEAM?_.summary.currency:u.data?.currency;return n.createElement("div",{style:L.sx.flex.itemsCenter.justifyBetween.flexRow.p8.pr16.gap4.wAuto.bRadius5.textBodyMediumStrong.if(o,L.sx.colorBgSelected,L.sx.colorBgSecondary).$,"data-testid":"seat-cost-info"},n.createElement("div",{style:L.sx.flex.flexRow.itemsCenter.justifyBetween.gap4.$},d,n.createElement("div",null,o?m?(0,S.tx)("admin_dashboard.request_flyout.seat_cost.no_cost_for_approval"):(0,S.tx)("admin_dashboard.request_flyout.seat_cost.this_will_use_available_seat",{seatType:(0,M.tI)(e)}):a&&t.price?(0,S.tx)("admin_dashboard.request_flyout.seat_cost.cost_associated_to_approval",{seatType:(0,M.tI)(e),seatCost:t.price}):(0,S.tx)("admin_dashboard.request_flyout.seat_cost.cost_associated_to_approval_no_price",{seatType:(0,M.tI)(e)}))),!!l.currentSeat&&n.createElement(P.$n,{onClick:()=>(0,B.E1)({currency:p,dispatch:i,planUser:{id:l.id,userId:l.user.id,name:l.user.name,handle:l.user.handle,currentSeatType:l.currentSeat},nextSeatType:e,hideFooter:!0}),variant:"link"},n.createElement("p",{style:L.sx.textBodyMedium.$},(0,S.tx)("admin_dashboard.request_flyout.seat_cost.see_details"))))}function V({label:e,value:t,onClick:a}){let r=n.createElement(O.G,{className:"xh8yej3 xdpxx8g",text:t??"-"});return n.createElement("div",{className:o.s.flex.flexColumn.overflowBreakWord.textBodyMedium.$},n.createElement("div",{className:o.s.colorTextSecondary.$},e),a?n.createElement(I.e6,{className:"xt0psk2 xh8yej3 x1e9o9zf xt0b8zv",onClick:a},r):r)}function $({request:e,lastActiveValue:t,billingGroupName:a,currentSeatValue:l}){let i;let s=(0,r.wA)(),o=(0,C.Zr)((0,k.Ak)(e.createdAt)),d=n.createElement(V,{label:(0,S.t)("admin_dashboard.request_flyout.body.email"),value:e.email,onClick:e.email?t=>{t.stopPropagation(),e.email&&s(q.II({emailList:[e.email]}))}:void 0}),c=n.createElement(V,{label:(0,S.t)("admin_dashboard.request_flyout.body.role"),value:e.jobTitle&&(0,C.Ay)(e.jobTitle)}),m=n.createElement(V,{label:(0,S.t)("admin_dashboard.request_flyout.body.request_sent"),value:o}),u=n.createElement(V,{label:(0,S.t)("admin_dashboard.request_flyout.body.current_seat"),value:l?(0,M.JT)(l):"-"}),_=(0,C.Zr)((0,k.Ak)(t)),p=n.createElement(V,{label:(0,S.t)("admin_dashboard.request_flyout.body.last_active"),value:t?_:"-"});return i=a?[[d,c,p],[n.createElement(V,{label:(0,S.t)("admin_dashboard.request_flyout.body.billing_group"),value:a}),u,m]]:[[d,u,m],[c,p]],n.createElement("div",{style:L.sx.flex.gap24.p16.colorBorder.b1.add({borderRadius:"13px"}).$},i.map((e,t)=>n.createElement("div",{key:`requestInfoColumn${t}`,style:L.sx.add({width:"calc((100% - 56px)/2)"}).flex.flexColumn.flex1.gap24.$},e)))}function W({failedToLoadPrices:e}){return(n.useEffect(()=>{e&&(0,R.trackEvent)("seat_purchasing.non_blocking_fetch_error",{price_fetch_error:e,view:"request_flyout"},{forwardToDatadog:!0})},[e]),e)?n.createElement(x._,{dataTestId:"pricing-error-banner",color:x.S.WARNING,padding:8,text:(0,S.tx)("admin_dashboard.request_flyout.price_fetching_error")}):null}function z({request:e,planUser:t,billingGroupName:a,seatCostResult:r,shouldHideSeatCostInfo:l,isProrationBillingEnabled:i,failedToLoadPrices:s}){return n.createElement("div",{className:o.s.flex.flexColumn.hFull.justifyBetween.gap16.mb8.$,"data-testid":"request-flyout-body"},n.createElement("div",{className:o.s.flex.flexColumn.gap24.$},n.createElement($,{request:e,billingGroupName:a,lastActiveValue:t.lastActive,currentSeatValue:t.currentSeat})),n.createElement("div",null,!l&&!!r&&n.createElement(G,{seatType:e.billableProductKey,seatCostResult:r,isProrationBillingEnabled:i,planUser:t}),n.createElement(W,{failedToLoadPrices:s})))}var j=a(193675),Q=a(37339),H=a(536384),Y=a.n(H),K=a(912873);let X="request_flyout--secondaryIcon--lhrXO";function J({request:e}){let t=e.name||e.email||(0,S.t)("admin_dashboard.requests.no_name"),a=(0,k.Ak)(e.updatedAt),r={id:e.userId,name:t,email:e.email??"",imgUrl:e.imgUrl??""};return n.createElement("div",{"data-testid":"request-flyout-header",className:o.s.flex.flexColumn.gap16.$},n.createElement("div",{className:"request_flyout--avatarContainer--S-J9Y"},n.createElement(K.H8,{size:48,user:r}),e.hasBeenNudged?n.createElement("div",{className:Y()(X,"request_flyout--reminderIcon--YYAB2"),"data-testid":"seat-requests-flyout-avatar-reminder"},n.createElement(Q.O,{style:L.sx.add({rotate:"35deg",marginLeft:"-2px",marginTop:"-2px"}).$})):n.createElement("div",{className:Y()(X,"request_flyout--planIcon--3ad7j"),"data-testid":"seat-requests-flyout-avatar-seat-type"},n.createElement(B.BC,{type:e.billableProductKey,removeBackgroundColor:!0,size:"16"}))),n.createElement("div",{className:o.s.flex.flexColumn.$},n.createElement("div",{className:"x78zum5 x1q0g3np x193iq5w x6s0dn4 xfex06f"},n.createElement(O.G,{text:t,className:o.s.textHeadingMedium.fontSemiBold.$}),e.orgPermission===f._D.GUEST&&n.createElement(j.E,{size:"lg",variant:"defaultOutline"},(0,S.tx)("admin_dashboard.requests.badge.guest"))),n.createElement("div",{className:o.s.textHeadingMedium.fontMedium.$},(0,S.tx)("admin_dashboard.request_flyout.requested_a_seat",{seatType:(0,M.tI)(e.billableProductKey)}))),e.lastNudgedAt&&n.createElement("div",{className:"request_flyout--reminder--HX1aD","data-testid":"nudged-request-banner"},(0,S.tx)("admin_dashboard.requests.reminder_sent",{time:a})),e.message&&n.createElement("div",{style:L.sx.overflowBreakWord.colorBgSecondary.textBodyMedium.colorTextSecondary.pt8.pb8.pr16.pl16.add({borderRadius:"0 13px 13px 13px"}).$},e.message))}var Z=a(48908);function ee(){return n.createElement("div",{className:o.s.flex.flexColumn.gap16.$,"data-testid":"request-flyout-loading-skeleton-header"},n.createElement(Z.Wi,{style:L.sx.w48.h48.bRadiusFull.$}),n.createElement(Z.Wi,{style:L.sx.add({width:"20%"}).h16.$}),n.createElement(Z.Wi,{style:L.sx.add({width:"40%"}).h24.$}))}function et(){return n.createElement("div",{className:o.s.flex.flexColumn.gap16.wFull.$,"data-testid":"request-flyout-loading-skeleton-body"},n.createElement(Z.Wi,{className:o.s.wFull.h32.$}),n.createElement(Z.Wi,{className:o.s.wFull.h200.$}))}function ea(){return n.createElement("div",{className:o.s.flex.flexColumn.gap8.$,"data-testid":"request-flyout-loading-skeleton-footer"},n.createElement(Z.Wi,{style:L.sx.wFull.h32.$}),n.createElement(Z.Wi,{style:L.sx.wFull.h32.$}))}let en=(e,t)=>{let a=s.oA(t.data?.org)?.baseOrgUserMembersById;if(!a)return;let[n]=a,r=e.length>0&&n?e.find(e=>e.id===n.licenseGroupMember?.licenseGroupId)??null:null;return r?.name},er={Root:(0,n.forwardRef)((e,t)=>n.createElement(u.I,{open:e.open,trackingName:e.trackingName,trackingProperties:e.trackingProperties},n.createElement(_.m.Root,{ref:t,open:e.open,onClose:e.onClose},e.children))),Contents:function({request:e,billingGroups:t,onClose:a,onApprove:s,onDecline:u}){let y,T,I,S;let A=(0,r.wA)(),w=(0,h.tJ)("RequestFlyout.Contents",{useSidebarOrOpenFile:!0}).unwrapOr(null);if(!w)throw Error("Missing Plan.");let R=w.key.type===f.OL.ORG,C=(0,r.d4)(t=>{let a=t.teamMembersByTeamId[w.key.parentId??""];return a?a[e?.email??""]:void 0}),{calculateCostForSeatTypeIncrease:k,status:x}=(0,m.n)(w,e),O=k(),L=(0,v.d)({reportErrorsToTeam:l.e.SCALE}),M=(0,d.k)(),[q,P]=(0,n.useState)();(0,n.useEffect)(()=>{async function t(){await A(g.m$({teamId:w?.key.parentId??""}))}async function a(){P(await A(p.I1({orgId:w?.key.parentId??"",userId:e?.userId??""})))}return R&&a(),w?.key.type===f.OL.TEAM&&t(),()=>P(null)},[A,R,w?.key.parentId,w?.key.type,e?.userId]);let D=(0,i.Rs)(b.oSh,{orgId:w?.key.parentId??"",orgUserIds:q?[q.id]:[]},{enabled:!!q&&t.length>0});if(!e)return n.createElement(n.Fragment,null);S=R?{id:q?.id??"",user:{id:q?.user.id??"",name:q?.user.name??"",handle:q?.user.handle??""},lastActive:q?.last_seen??void 0,currentSeat:q?q.active_seat_type?.key??E.Gu.VIEW:void 0}:{id:C?.team_user?.id??"",user:{id:C?.team_user?.user_id??"",name:C?.name??"",handle:C?.team_user?.user?.handle??""},lastActive:C?.last_active?new Date(1e3*C.last_active).toISOString():void 0,currentSeat:C?C.team_user?.active_seat_type?.key??E.Gu.VIEW:void 0};let U=!q||"loading"===D.status,F="errors"===x,B=L||F||O?.reason===c.D3.MISSING_CURRENCY;if(!S||R&&U)y=n.createElement(ee,null),T=n.createElement(et,null),I=n.createElement(ea,null);else{let r=en(t,D);y=n.createElement(J,{request:e}),T=n.createElement(z,{request:e,planUser:S,billingGroupName:r,seatCostResult:O,shouldHideSeatCostInfo:B,failedToLoadPrices:F,isProrationBillingEnabled:M}),I=n.createElement(N,{onClose:a,onApprove:s,onDecline:u,requestId:e.id})}return n.createElement(_.m.Contents,null,n.createElement("div",{className:o.s.flex.flexColumn.justifyBetween.hFull.p24.gap24.$},n.createElement(_.m.HiddenTitle,null,e.id),y,n.createElement("div",{className:o.s.flex.flexColumn.justifyBetween.hFull.gap16.$},T,I)))}};function el(e){let{request:t,billingGroups:a,open:r,onClose:l,onApprove:i,onDecline:s,trackingName:o,trackingProperties:d,flyoutRef:c}=e;return{requestFlyout:n.createElement(er.Root,{open:r,onClose:l,trackingName:o,trackingProperties:{...d},ref:c},n.createElement(er.Contents,{request:t,billingGroups:a,onClose:l,onApprove:i,onDecline:s}))}}},118774:(e,t,a)=>{a.d(t,{l:()=>ej});var n=a(848318),r=a(301168),l=a(559389),i=a(938982),s=a(580494),o=a(999667),d=a(536384),c=a.n(d),m=a(196008),u=a(63122),_=a(410725),p=a(238462),g=a(396872),E=a(129170),v=a(156974),f=a(264478),b=a(173926),h=a(48908),y=a(847240),T=a(334804),I=a(453648),S=a(297638),A=a(967688),w=a(744577),N=a(952039),R=a(113752),C=a(925085),k=a(560596),x=a(468159),O=a(695920),L=a(640724),M=a(72464),q=a(255585),P=a(107260),D=a(596510),U=a(743093),F=a(153494),B=a(648998),G=a(261737),V=a(854472),$=a(582039),W=a(309488),z=a(93275),j=a(190243),Q=a(178806),H=a(31898),Y=a(957872),K=a(863270),X=a(709884),J=a(991675);let Z=(0,a(446951).Ju)(function(e){let t;let a=$.hS(e),l=(0,r.wA)(),i=(0,j.Xf)(e.plan.key.parentId,e.plan.key.type!==X.OL.TEAM),o=(0,r.d4)(e=>e.teamBilling),d=e.plan.key.type===X.OL.TEAM?o.summary.currency:i.data?.currency,c=()=>l(H.Ce());t=!d||e.isELA?(0,A.tx)("admin_dashboard.seat_requests.approve_all_modal.body.no_cost",{numRequests:e.requestsToApprove.length}):(0,A.tx)("admin_dashboard.seat_requests.bulk_approve_modal.body");let m=(0,s.k)().temp_rum_logging?{addToRUM:!0}:void 0;return n.createElement(K.fu,{name:J.e0.BULK_APPROVE_CONFIRMATION_MODAL,properties:{planType:e.plan.key.type,planId:e.plan.key.parentId}},n.createElement(W.bL,{manager:a,width:"lg"},n.createElement(z.vo,null,n.createElement(z.Y9,null,n.createElement(z.hE,null,(0,A.tx)("admin_dashboard.seat_requests.approve_all_modal.title"))),n.createElement(z.nB,null,t),n.createElement(z.wi,null,n.createElement(z.jk,null,n.createElement(Q.$z,{variant:"secondary",onClick:c,trackingProperties:{trackingDescriptor:Y.c.CANCEL},trackingOptions:m},(0,A.tx)("admin_dashboard.seat_requests.approve_all_modal.cancel")),n.createElement(Q.$z,{variant:"primary",onClick:()=>{c(),e.onConfirm()},trackingProperties:{trackingDescriptor:Y.c.APPROVE},trackingOptions:m},(0,A.tx)("admin_dashboard.seat_requests.approve_all_modal.approve_number_of_requests",{numRequests:e.requestsToApprove.length})))))))},"BulkApproveConfirmationModal");var ee=a(438094),et=a(246508),ea=a(954205),en=a(538383),er=a(168100),el=a(439525),ei=a(842837),es=a(696786),eo=a(594950),ed=a(501104),ec=a(859172),em=a(694930),eu=a(141354),e_=a(961675),ep=a(125761),eg=a(637603),eE=a(318147),ev=a(55116),ef=a(74666),eb=a(17753),eh=a(153821),ey=a(125952),eT=a(405002),eI=a(737064),eS=a(359822),eA=a(901617),ew=a(689521),eN=a(34542),eR=a(517776),eC=a(391301),ek=a(136169);function ex(e){let t=(0,eR.r1)("seen_admin_seat_approval_settings_onboarding"),a=(0,o.md)(t),{show:r,isShowing:l,complete:i}=(0,eN.e)({overlay:ek.Clh,priority:(0,ew.g)(ek.Clh)},[a]);return(0,eS.h)(()=>{r({canShow:e=>!e})}),n.createElement(eC.rq,{clickOutsideToHide:!0,description:(0,A.tx)("admin_dashboard.seat_requests.seat_approval_settings_onboarding_overlay.description"),emphasized:!0,isShowing:l,onClose:i,primaryCta:{label:(0,A.tx)("general.got_it"),onClick:i,type:"button",ctaTrackingDescriptor:Y.c.GOT_IT},targetKey:eA.qf,title:(0,A.tx)("admin_dashboard.seat_requests.seat_approval_settings_onboarding_overlay.title"),trackingContextName:"",userFlagOnShow:"seen_admin_seat_approval_settings_onboarding"})}var eO=a(143823),eL=a(779367);a(82433);var eM=a(242520);function eq({request:e,plan:t,handleRequests:a,isELA:r,isProrationBillingEnabled:l}){let i=(0,o.md)(P.aN),d=(0,o.md)(P.V4),{calculateCostForSeatTypeIncrease:c}=(0,eM.n)(t,e),m=e.billableProductKey,u=c(),_=!!i||d.has(e.id),p="approving"===i&&d.has(e.id),g=(0,s.k)().temp_rum_logging?{addToRUM:!0}:void 0;return p?n.createElement("div",{className:"x78zum5 x6s0dn4 xe8ttls"},n.createElement(eO.k,{size:"sm"})):n.createElement(Q.Me,{"aria-label":(0,A.t)("admin_dashboard.requests.approve"),onClick:t=>{t.stopPropagation(),a({approve:!0,selectedRequestIds:[e.id],shouldProcessAsSingleRequest:!0})},disabled:_,trackingProperties:{trackingDescriptor:Y.c.APPROVE},htmlAttributes:{"data-testid":"approve-button-single",...(0,P.Td)(m,u,r,l)},trackingOptions:g},n.createElement(eL.U,null))}var eP=a(635600);function eD({request:e,setHighlightedItemId:t}){let a=(0,s.k)().temp_rum_logging?{addToRUM:!0}:void 0;return n.createElement(Q.Me,{"aria-label":(0,A.t)("admin_dashboard.requests.details.title"),onClick:a=>{a.stopPropagation(),t(e.id)},trackingProperties:{trackingDescriptor:Y.c.REQUEST_DETAILS,requestId:e.id},trackingOptions:a},n.createElement(eP.a,null))}function eU(e){let{request:t,numRowsSelected:a,setHighlightedItemId:r}=e,l=(0,o.md)(P.aN);return n.createElement(C.Y,null,n.createElement(T.G,{text:t.message??"",showTooltip:I.i.NEVER,className:S.s.colorTextSecondary.if(0===a.current&&"approving_all"!==l,S.s.pr8,S.s.pr16).$}),n.createElement(C.M,null),0===a.current&&"approving_all"!==l&&n.createElement("div",{className:S.s.flex.gap4.pr4.$},n.createElement(eq,{...e}),n.createElement(eD,{request:t,setHighlightedItemId:r})))}var eF=a(985603),eB=a(511067),eG=a(710166);function eV(e){let t=(0,r.wA)(),a=(0,eB.Um)(),l=a?.type===e.type;return n.createElement(eF.V,{showingDropdown:l,type:e.type,dispatch:t,isRightAligned:!0},n.createElement("div",{"data-testid":e.dataTestId},e.isDefaultFilter?e.defaultFilterLabel:e.filterLabel),l&&n.createElement(v.gw,{dispatch:t,className:eG.x1,style:a.data.position},e.renderFilterOptions()))}var e$=a(527041);let eW="approving-all-requests",ez="RequestFlyout";function ej({plan:e,isOrgAdmin:t,defaultAdminEntryPoint:a}){let d;let $=e?.key.type==="team"?D.ps.TEAM:D.ps.ORG,W=e.key.parentId??"",z=(0,el.B)(),j=n.useRef(null),Q=n.useRef(null),X=(0,L.k)(),eS=(0,O.RR)(),eA=!!(0,s.k)().admin_table_drilldowns,ew=(0,s.k)().temp_rum_logging?{addToRUM:!0}:void 0,eN=(0,r.wA)(),{seatAvailability:eR}=(0,G.k)(e),{Sprig:eC}=(0,g.A)(),[ek,eO]=(0,n.useState)(!1),[eL,eM]=(0,n.useState)(""),[eP,eF]=(0,n.useState)(null),[eB,ej]=(0,n.useState)(D.i5.NEWEST_FIRST),[eQ,eH]=(0,o.fp)(P.aN),eY=(0,n.useRef)(0),[eK,eX]=(0,n.useState)(0),eJ=(0,r.d4)(({selectedView:e})=>e),eZ=a??P.kl,e0=(0,es.GS)(),{dispatchSuccess:e8,dispatchSuccessWithRequesterName:e1,dispatchRequestAlreadyHandled:e4,dispatchProcessingError:e6,dispatchGenericError:e3}=(0,B.s)(),[e5,e7]=(0,o.fp)(q.Y),[e9,e2]=(0,o.fp)(P.V4),[te,tt]=(0,n.useState)(new Set),[ta,tn]=(0,n.useState)(new Set),[tr,tl]=(0,n.useState)(null),[ti,ts]=(0,n.useState)(0),[to,td]=(0,n.useState)(0),[tc,tm]=(0,n.useState)(D.V7.ALL_MANAGED_REQUESTS),[tu,t_]=(0,n.useState)(tc),[tp,tg]=(0,n.useState)(null),tE=(0,eg.MX)(),tv=(0,ep.TA)(),tf=$===D.ps.ORG,tb=(0,n.useMemo)(()=>tf?(0,eg.EQ)(tE,tv,!1).groupsUserIsAdminOf:[],[tE,tv,tf]),th=(0,n.useMemo)(()=>tb?tb.map(e=>e.id):[],[tb]),ty=(0,n.useMemo)(()=>tc===D.V7.ALL_MANAGED_REQUESTS?t?[null,...th]:th:null,[tc,th,t]),tT=(0,n.useMemo)(()=>{switch(tu){case D.V7.ALL_ORG_REQUESTS:return null;case D.V7.ALL_MANAGED_REQUESTS:return t?[null,...th]:th;case D.V7.ALL_UNASSIGNED_REQUESTS:return t?[null]:[];default:if(!(tu in D.V7))return[tu];return null}},[tu,th,t]),tI=(0,n.useMemo)(()=>JSON.stringify({search_query:eL,billable_product_key:eP,refreshNonce:ti,sortTypeNonce:eB,billing_group_ids:tT,org_user_permission:tp}),[eL,eP,ti,eB,tT,tp]),tS=(0,n.useMemo)(()=>JSON.stringify({billing_group_ids:ty}),[ty]),tA=(0,_.Rs)(ev.EEx,{planType:$,planId:W,sortOrder:eB===D.i5.NEWEST_FIRST?"desc":"asc",filterParams:tI,firstPageSize:25}),tw=(0,D.z7)({planType:$,planId:W,filterParams:tI,processedRequestIds:ta}),tN=(0,D.z7)({planType:$,planId:W,filterParams:JSON.stringify({refreshNonce:tI,billing_group_ids:ty}),processedRequestIds:ta}),tR=(0,_.Rs)(ev.HpJ,{orgId:W},{enabled:tf}),tC="loaded"===tA.status,tk=tC&&!!tA.data?.adminDashboardRequests?.isLoadingNextPage,tx=tC&&!!tA.data?.adminDashboardRequests?.hasNextPage(),[tO,tL]=(0,n.useState)({loading:!0,requestId:void 0,request:void 0}),tM=tf&&"loaded"===tR.status&&tR.data?.org?.bigmaEnabledAt&&t,tq=tf&&"loaded"===tR.status&&t?tR.data?.org?.sharedOrgLicenseGroupSetting?.configuredUpgradeRequestSetting:void 0,tP=(0,D.ZY)({isIntendedAudience:tf&&"loaded"===tR.status&&tR.data?.org?.bigmaEnabledAt!==null&&!1===t});(0,B.u)(tf,t);let tD=(0,em.d)({reportErrorsToTeam:i.e.SCALE}),tU=!tC||tk||tx||tO.loading,tF=tw?.length??0,tB=tN?.length??0,tG=[$,W].toString(),tV=e5[tG],t$=tB?Math.max(tB,0):0,tW=tN&&tV!==t$,tz=tB>0||null===tN&&!!tV;n.useEffect(()=>{if(tW){let e={...e5};e[tG]=t$,e7(e)}},[tW,tG,t$]);let tj=ek&&null===tF;(0,n.useEffect)(()=>{tC&&tl(new Date)},[tC]),(0,n.useEffect)(()=>{let e=(0,e_.QL)("approvalRequestId");e?tL(t=>({...t,requestId:e})):tL(e=>({...e,loading:!1})),(0,e_.EM)("approvalRequestId")},[]),(0,n.useEffect)(()=>{async function e(e){let t=await (0,eu.q)(e,eN);t?tL(e=>({...e,request:t,loading:!1})):tL(e=>({...e,loading:!1}))}tO.requestId&&e(tO.requestId)},[tO.requestId,eN]),(0,u.R)(()=>{if(tO.requestId&&tO.request){let e=tO.request.requestableOrgUser?.user?.name??tO.request.requestableTeamUser?.user?.name??"";t5({approve:!0,selectedRequestIds:[tO.requestId],shouldProcessAsSingleRequest:!0,singleRequestSelectionMethod:D.Xv.EMAIL,successHandler:e?()=>{e1({requesterName:e}),tL({loading:!1,requestId:void 0,request:void 0})}:e8})}},tU,e=>!e);let tQ=(0,n.useMemo)(()=>{let e=new Set(te);if(!tC||!tA?.data?.adminDashboardRequests)return[];let t=tA.data?.adminDashboardRequests.reduce((t,a)=>{let n=a.id,r=a.request,l=a.user,i=a.userId;if(r.status!==m.tT.Loaded||l.status!==m.tT.Loaded)return t;let s=r.data,o=l.data;if(!s||!o)return e.has(n)||e.add(n),t;if(!s.billableProductKey)return t;let d=ec.Zx(s.billableProductKey);if(e.has(n))return t;if("pending"!==s.status)return e.has(n)||e.add(n),t;let c=!!s.lastNudgedAt;if(n===tO.requestId)return e.has(n)||e.add(n),t;let u=s.requestableTeamUser?.currentSeat;return t.push({id:n,createdAt:s.createdAt,updatedAt:s.updatedAt,name:o.name,email:o.email,imgUrl:o.imgUrl,message:s.message&&s.message.trim().length>0?s.message:null,jobTitle:o.profile?.jobTitle??null,userId:i,hasBeenNudged:c,lastNudgedAt:s.lastNudgedAt,billableProductKey:d,currentSeat:{billableProductKey:u?.billableProductKey,billingInterval:u?.billingInterval},orgPermission:s.requestableOrgUser?.permission}),t},[]);return tn(t=>new Set([...t,...new Set(e)])),t.sort((e,t)=>eB===D.i5.NEWEST_FIRST?t.updatedAt.getTime()-e.updatedAt.getTime():e.updatedAt.getTime()-t.updatedAt.getTime())},[tC,tA.data,tO.requestId,te,eB]),tH=n.useCallback(e=>tQ.find(t=>t.id===e),[tQ]),{highlightedItem:tY,setHighlightedItemId:tK,clearHighlightedItemId:tX}=(0,en.v)(tH,{interactionConfig:[{ref:Q,shouldClearHighlight:!1},{ref:j,shouldClearHighlight:!1},{ref:z,shouldClearHighlight:!0}],onHighlight:()=>{Q.current?.focus()},onClear:(0,er.b)(ez)}),tJ=(0,n.useMemo)(()=>new Set(tQ?.filter(e=>[eo.ud.DEVELOPER,eo.ud.EXPERT].includes(e.billableProductKey)&&e.message?.includes("Dev Mode")).map(e=>e.id)),[tQ]);(0,u.R)(()=>{let e=(0,e_.QL)("viewRequestId");e&&(tQ.find(t=>t.id===e)?tK(e):e4(),(0,e_.EM)("viewRequestId"))},tU,e=>!e);let tZ=(0,n.useMemo)(()=>(0,l.s)(eM,300),[eM]),t0=e=>e===D.r1.GUESTS?(0,A.t)("admin_dashboard.requests.guests"):e===D.r1.MEMBERS?(0,A.t)("admin_dashboard.requests.members"):(0,A.t)("admin_dashboard.requests.all_users"),t8=tc===D.V7.ALL_ORG_REQUESTS&&tE.length>0,t1=tc===D.V7.ALL_MANAGED_REQUESTS&&(tb.length>0&&t||!t&&tb.length>1),t4=(tM||tP)&&(t8||t1),t6=n.useCallback(({approve:e,requestId:t,selectionMethod:a=D.Xv.SINGLE,entryPoint:n=eZ,successHandler:r=e8})=>{e2(e=>new Set(e).add(t)),eH(e?"approving":"declining");let l=e?eh.w.approveRequests.bind(eh.w):eh.w.denyRequests.bind(eh.w),i=tQ.find(e=>e.id===t);l({plan_id:W,plan_type:$,included_request_ids:[t],selection_method:a,entry_point:n,is_proration_billing_enabled:X,is_seat_increase_authorized:(0,P.Z4)(i?[i]:[],eR)}).then(t=>{if(200!==t.status){e3();return}if(t.data.meta.failed_attempts>0){e6({multiple:!1});return}r({approve:e,numRequests:1,asyncUpdate:!1})}).catch(()=>{e3()}).finally(()=>{e2(e=>{let a=new Set(e);return a.delete(t),a}),eH(!1),td(e=>e+1)})},[eZ,e3,e6,e8,X,W,$,tQ,eR,e2,eH]),t3=n.useCallback(({approve:e,selectedRequestIds:t,approveAll:a,entryPoint:n=eZ})=>{eX(eY.current),eH(a?"approving_all":e?"approving":"declining"),a&&tB&&eN(N.F.enqueue({message:(0,A.t)("admin_dashboard.requests.selected_count_approving",{numSelected:tB}),type:eW,timeoutOverride:1/0,icon:R.zX.SPINNER,preventDismissal:!0,role:"status"}));let r=a||ek,l=!!(e&&(r||t.length>5)&&tf),i=new Set(t),s=tQ.filter(e=>i.has(e.id)),o={plan_id:W,plan_type:$,entry_point:n,async_processing:l,is_proration_billing_enabled:X,is_seat_increase_authorized:!!a||(0,P.Z4)(s,eR)},d=r?{...o,subtractive:!0,excluded_request_ids:a?[]:tQ.map(e=>e.id).filter(e=>!i.has(e)),filter_params:a?tS:tI,timestamp:(tr??new Date).toISOString(),selection_method:a?D.Xv.APPROVE_ALL:D.Xv.BULK_SELECT}:{...o,included_request_ids:t,selection_method:D.Xv.BULK_SELECT,filter_params:tS},c=(t,a,n)=>{if(200!==t){e3();return}if(a>0){e6({multiple:!0});return}e8({approve:e,numRequests:n,asyncUpdate:l})},m=()=>{eH(!1),eX(0),r&&ts(e=>e+1),ek&&eO(!1)};e?eh.w.approveRequests.bind(eh.w)(d).then(e=>{if(c(e.status,e.data.meta.failed_attempts,e.data.meta.successful_attempts),l){let t=e.data.meta.processed_request_ids;tt(e=>new Set([...e,...new Set(t)]))}td(e=>e+1)}).catch(()=>{e3()}).finally(()=>{a&&eN(N.F.dequeue({matchType:eW})),m()}):eh.w.denyRequests.bind(eh.w)(d).then(e=>{c(e.status,e.data.meta.failed_attempts,e.data.meta.successful_attempts),td(e=>e+1)}).catch(()=>{e3()}).finally(()=>{m()})},[tS,eZ,eN,e3,e6,e8,tI,tf,X,tr,W,$,tQ,eR,ek,eH,tB]),t5=n.useCallback(({approve:e,selectedRequestIds:t,approveAll:a=!1,shouldProcessAsSingleRequest:n=!1,singleRequestSelectionMethod:r,successHandler:l=e8,sprig:i,isHandlingInFlyout:s=!1})=>{let o=s?P.A$:eZ,d="dashDeepLinkEntryPoint"in eJ&&eJ.dashDeepLinkEntryPoint||o;(()=>{if(n){let a=r||D.Xv.SINGLE;t6({approve:e,requestId:t[0],selectionMethod:a,entryPoint:d,successHandler:l})}else t3({approve:e,selectedRequestIds:t,approveAll:a})})(),i&&n&&i("track",e?"admin-dashboard-request-approved":"admin-dashboard-request-declined"),i&&$===D.ps.TEAM&&!e&&t.some(e=>tJ.has(e))&&i("track","admin-dashboard-dev-mode-decline")},[$,e8,eZ,t6,t3,tJ,eJ]),{requestFlyout:t7}=(0,ee.m)({request:tY,billingGroups:tE,flyoutRef:Q,open:!!tY,onClose:tX,onApprove:()=>t5({approve:!0,selectedRequestIds:tY?[tY.id]:[],shouldProcessAsSingleRequest:!0,singleRequestSelectionMethod:D.Xv.SINGLE,sprig:eC,isHandlingInFlyout:!0}),onDecline:()=>t5({approve:!1,selectedRequestIds:tY?[tY.id]:[],shouldProcessAsSingleRequest:!0,singleRequestSelectionMethod:D.Xv.SINGLE,sprig:eC,isHandlingInFlyout:!0}),trackingName:ez,trackingProperties:{requestId:tY?.id}}),t9=n.useCallback((e,t,a)=>{let r=e.name||e.email||(0,A.t)("admin_dashboard.requests.no_name"),l=n.createElement(ey.az,{entity:{id:e.userId,name:r,email:e.email??void 0,imgUrl:e.imgUrl},badge:e.orgPermission===eE._D.GUEST?{color:E.zE.DEFAULT,text:(0,A.t)("admin_dashboard.requests.badge.guest")}:void 0,size:24,defaultText:D.Lv,includeUserEmailAddress:!0,className:eG.U0});return eA?l:n.createElement(ea.n,{onClick:t=>{t.stopPropagation(),a?.setItemKey?.(e.id)},disabled:t,trackingProperties:{trackingDescriptor:Y.c.REQUEST_DETAILS,requestId:e.id}},l)},[eA]),t2=n.useCallback(e=>{if(!(0,eo.dA)(e.billableProductKey))return n.createElement(n.Fragment,null," ",(0,M.tI)(e.billableProductKey));{let t=e.billableProductKey;return n.createElement("div",{className:S.s.flex.gap8.itemsCenter.$},n.createElement(x.B,{type:t,size:"24"}),(0,M.tI)(e.billableProductKey))}},[]),ae=n.useCallback(e=>n.createElement("div",{className:e.hasBeenNudged?eG.cp:void 0,"data-tooltip-type":e.hasBeenNudged?eb.Ib.TEXT:void 0,"data-tooltip":(0,A.t)("admin_dashboard.requests.sent_you_a_reminder",{requesterName:e.name??e.email??""})},n.createElement(b.h1,{capitalize:!0,date:e.updatedAt})),[]),at=n.useCallback(t=>n.createElement(eU,{request:t,plan:e,numRowsSelected:eY,handleRequests:t5,isELA:tD,isProrationBillingEnabled:X,setHighlightedItemId:tK}),[e,eY,t5,tD,X,tK]),aa=e=>e.updatedAt.getTime(),an=n.useMemo(()=>[{name:(0,A.t)("admin_dashboard.requests.columns.name"),className:eG.Mc,cellComponent:t9},{name:(0,A.t)("admin_dashboard.requests.columns.seat_type"),className:eG.eF,cellComponent:t2},{name:(0,A.t)("admin_dashboard.requests.columns.requested"),className:eG.jR,cellComponent:ae,sorting_key:P.BC.REQUESTED,getSortValue:aa,sortNumerically:!0},{name:(0,A.t)("admin_dashboard.requests.columns.note"),className:eG.P_,cellComponent:eA?e=>n.createElement(T.G,{text:e.message??"",showTooltip:I.i.NEVER,className:S.s.colorTextSecondary.$}):at}],[eA,t9,t2,ae,at]),ar=e=>{let a=e?D.V7.ALL_MANAGED_REQUESTS:D.V7.ALL_ORG_REQUESTS,r=e?et.xo:et.OW,l=e?(0,A.tx)("admin_dashboard.managed_org_requests.title"):(0,A.tx)("admin_dashboard.all_org_requests.title",{orgName:"loaded"===tR.status?tR.data?.org?.name:"org"});return n.createElement("div",{role:"button",tabIndex:0,className:S.s.flex.gap8.itemsCenter.font11.fontMedium.lh16.mr8.py4.pl8.if(tc===a,S.s.colorText.bRadius5.colorBgPressed,S.s.colorTextSecondary).$,onClick:()=>{tm(a),t_(a),td(0===to?1:0)},"data-onboarding-key":r,"data-test-id":e?"your-requests-tab":"all-org-requests-tab"},l,n.createElement(F.E,{isOrgAdmin:!!t,managedRequests:e,planId:W,planType:$,processedRequestIds:ta,refreshNonce:ti,refreshTabCountNonce:to,selectedRequestView:tc,showAllOrgRequests:tM??!1,showBillingGroupAdminRequests:tP,viewableBillingGroupIds:t?[null,...th]:th}))},al=n.createElement("div",{className:S.s.flex.columnGap8.pl16.$},tf&&t&&n.createElement(U.eS,null),(!tf||t)&&n.createElement(n.Fragment,null,n.createElement(U.Rj,{planId:W,planType:$,configuredUpgradeRequestSetting:tq}),n.createElement(ex,null)),tz&&n.createElement(k.V,{variant:"primary",onClick:()=>{if(null===tF||null===tB)return;let t=eQ?p.lQ:()=>t5({approve:!0,approveAll:!0,selectedRequestIds:[]});if(tB===tF&&tB<1){t();return}eN(H.to({type:V.W,data:{plan:e,numRequestsToApprove:tB,filteredRowCount:tF,isELA:tD,onConfirm:t,entryPoint:eZ}}))},innerText:"Approve all",dataTestId:"approve-all-button",disabled:null===tB||!!eQ,trackingProperties:{trackingDescriptor:Y.c.APPROVE_ALL},trackingOptions:ew},n.createElement(U.Zu,{text:(0,A.t)("admin_dashboard.requests.approve_all"),showSpinner:"approving_all"===eQ}))),ai=n.createElement("div",{className:S.s.h32.cursorDefault.selectNone.$},n.createElement(C.Y,{spacing:0},n.createElement(C.Y,{spacing:0},[!0,!1].map(e=>ar(e))),n.createElement(C.M,null),al)),as=n.createElement(n.Fragment,null,!!tM&&tE.length>0&&ai,n.createElement(C.Y,{padding:{top:4,bottom:8},strokeColor:"default",strokeWidth:{bottom:1}},n.createElement(y.y2,{onChange:e=>tZ((0,D.Bk)(e)),focusOnMount:!1,query:eL,clearSearch:()=>eM(""),placeholder:(0,A.t)("admin_dashboard.requests.search_requests.placeholder"),maxInputLength:D.MI}),n.createElement(C.M,null),(tM||tP)&&n.createElement(eV,{type:D.L8,dataTestId:"user-type-filter",isDefaultFilter:null===tp,defaultFilterLabel:(0,A.tx)("admin_dashboard.requests.filter.user_type_default"),filterLabel:(0,A.tx)("admin_dashboard.requests.filter.user_type",{selectedUserTypeFilter:n.createElement("span",{className:S.s.fontBold.$},t0(tp))}),renderFilterOptions:()=>n.createElement(n.Fragment,null,n.createElement(v.MM,{checked:null===tp,onClick:()=>tg(null)},(0,A.t)("admin_dashboard.requests.all_users")),n.createElement(v.wv,null),Object.values(D.r1).map(e=>n.createElement(v.MM,{key:e,checked:tp===e,onClick:()=>tg(e)},t0(e))))}),n.createElement(eV,{type:"UPGRADE_REQUESTS_SEAT_TYPE_DROPDOWN",dataTestId:"seat-type-filter",isDefaultFilter:null===eP,defaultFilterLabel:(0,A.tx)("admin_dashboard.requests.filter.seat_type_default"),filterLabel:(0,A.tx)("admin_dashboard.requests.filter.seat_type",{selectedSeatTypeFilter:n.createElement("span",{className:S.s.fontBold.$},(0,M.tI)(eP??eo.Gu.VIEW))}),renderFilterOptions:()=>n.createElement(n.Fragment,null,n.createElement(v.MM,{checked:null===eP,onClick:()=>eF(null)},(0,A.t)("admin_dashboard.requests.filter.seats_all_option")),n.createElement(v.wv,null),ed.N_.sort(ec.AG).map(e=>n.createElement(v.MM,{key:e,checked:eP===e,onClick:()=>eF(e)},(0,M.tI)(e))))}),t4&&n.createElement(eV,{type:D.OL,dataTestId:"billing-group-filter",isDefaultFilter:tu===tc,defaultFilterLabel:(0,A.tx)("admin_dashboard.requests.filter.billing_group_default"),filterLabel:(0,A.tx)("admin_dashboard.requests.filter.billing_group",{selectedBillingGroupFilter:n.createElement("span",{className:S.s.fontBold.$},tu===D.V7.ALL_ORG_REQUESTS||tu===D.V7.ALL_MANAGED_REQUESTS?(0,A.t)("admin_dashboard.requests.from_all"):tu===D.V7.ALL_UNASSIGNED_REQUESTS?(0,A.t)("admin_dashboard.requests.from_unassigned"):tE.find(e=>e.id===tu).name)}),renderFilterOptions:()=>{let e=tc===D.V7.ALL_ORG_REQUESTS?tE:tb,t=[{key:tc,label:(0,A.t)("admin_dashboard.requests.from_all")}];return tP||t.push({key:D.V7.ALL_UNASSIGNED_REQUESTS,label:(0,A.t)("admin_dashboard.requests.from_unassigned")}),n.createElement(n.Fragment,null,t.map(e=>n.createElement(v.MM,{key:e.key,checked:tu===e.key,onClick:()=>t_(e.key)},e.label)),n.createElement(v.wv,null),n.createElement(v.MM,{disabled:!0,checked:!1,onClick:p.lQ},(0,A.tx)(tc===D.V7.ALL_ORG_REQUESTS?"admin_dashboard.requests.billing_groups":"admin_dashboard.requests.your_billing_groups")),e.map(e=>n.createElement(v.MM,{key:e.id,checked:tu===e.id,onClick:()=>t_(e.id)},e.name)))}})));return n.createElement(K.fu,{name:J.e0.UPGRADE_REQUESTS_TABLE,properties:{adminRequestsDashboard:!0,orgId:tf?W:void 0,teamId:$===D.ps.TEAM?W:void 0,entryPoint:"dashDeepLinkEntryPoint"in eJ?eJ.dashDeepLinkEntryPoint:"",isBillingRemodelEnabled:eS},trackingOptions:ew},n.createElement(ei.K,{title:(0,A.t)("admin_dashboard.requests.seat_title"),rightActions:!tM||tE.length<1?al:void 0}),n.createElement("div",{className:c()(eG.M2,S.s.if(!tM||0===tE.length,S.s.pt4,S.s.pt12).$)},n.createElement(eT.Cj,{actionBar:"approving_all"===eQ?void 0:t=>tj?n.createElement("div",{className:S.s.w150.$},n.createElement(h.Wi,{className:S.s.h12.w150.$,animationType:h.JR.SHIMMER_ON_MENU})):n.createElement("div",{className:eG.$h},n.createElement(C.Y,{spacing:8},n.createElement(k.V,{variant:"toolbar-secondary",disabled:!!eQ,onClick:eQ?p.lQ:()=>t5({approve:!1,selectedRequestIds:t.map(e=>e.id),sprig:eC}),innerText:"Decline",dataTestId:"decline-button-multiple",trackingProperties:{trackingDescriptor:Y.c.DECLINE},trackingOptions:ew},n.createElement(U.Zu,{text:(0,A.t)("admin_dashboard.requests.decline"),showSpinner:"declining"===eQ})),n.createElement(k.V,{variant:"primary",disabled:!!eQ,onClick:eQ?p.lQ:()=>eN(H.to({type:Z,data:{plan:e,requestsToApprove:t,seatAvailability:eR,isELA:tD,calculateCostForSeatTypeBulkIncrease:(e,t)=>void 0,onConfirm:()=>t5({approve:!0,selectedRequestIds:t.map(e=>e.id)})}})),innerText:"Review",dataTestId:"approve-button-multiple",trackingProperties:{trackingDescriptor:Y.c.REVIEW},trackingOptions:ew},(0,D.Zm)({text:(0,A.t)("admin_dashboard.requests.multi_select.review"),showSpinner:"approving"===eQ})))),actionBarClassName:c()(eG.KY,tj?void 0:eG.h4),columns:an,disabled:!!eQ,emptyContent:(d=0===eL.length&&null===eP&&tu===tc&&null===tp?n.createElement(n.Fragment,null,n.createElement("div",{className:S.s.fontSemiBold.lh16.cursorDefault.colorTextSecondary.$},(0,A.tx)(tq&&tP?"admin_dashboard.requests.empty.configurable_upgrade_requests":"admin_dashboard.requests.no_requests_to_approve")),n.createElement("div",{style:w.sx.add({maxWidth:"500px"}).lh16.cursorDefault.alignCenter.colorTextSecondary.$},tq?tq===ef.Sm.MEMBERS?(0,A.tx)("admin_dashboard.configured_upgrade_request_empty_state.members"):(0,A.tx)("admin_dashboard.configured_upgrade_request_empty_state.all_users"):(0,A.tx)("admin_dashboard.requests.when_a_seat_request_needs_to_be_reviewed"))):eL.length>0&&null===eP&&tu===tc&&null===tp?n.createElement("div",{className:S.s.lh16.cursorDefault.colorText.$},(0,A.tx)("admin_dashboard.requests.empty.no_search_results")):n.createElement("div",{className:S.s.lh16.cursorDefault.colorText.$},(0,A.tx)("admin_dashboard.requests.empty.no_filter_results",{resetFiltersLink:n.createElement(f.CY,{trusted:!0,onClick:()=>{eF(null),t_(tc),eM(""),tg(null)}},(0,A.tx)("admin_dashboard.requests.empty.reset_filters"))})),n.createElement(C.Y,{direction:"vertical",spacing:8,padding:{top:60,bottom:28},horizontalAlignItems:"center"},d)),getItemKey:e=>e.id,getTotalSelected:tj?void 0:(e,t)=>{let a;return a=ek&&tF?Math.max(1,tF-(t.length-e.length)):e.length,eY.current=a,a},hasNewScrollContext:!0,highlightState:{itemKey:tY?.id??null,setItemKey:tK},isLoading:tU,itemTypeContext:{itemType:D.k_,getSelectedCountString:e=>tj?"":"approving"===eQ?(0,A.t)("admin_dashboard.requests.selected_count_approving",{numSelected:eK}):"declining"===eQ?(0,A.t)("admin_dashboard.requests.selected_count_denying",{numSelected:eK}):(0,A.t)("admin_dashboard.requests.selected_count_request",{numSelected:e})},items:tQ,minContentWidth:e0?928:944,onFetchMore:tx?()=>{tC&&!tk&&tx&&tA?.data?.adminDashboardRequests?.loadNext(25)}:void 0,onRowClick:e=>{e.id===tY?.id?tX():tK(e.id)},onSelectedItemsChange:e=>{0===e.length&&eO(!1)},onSetSortState:()=>ej(e=>e===D.i5.NEWEST_FIRST?D.i5.OLDEST_FIRST:D.i5.NEWEST_FIRST),onToggleSelectAll:e=>{eO(!e),tX()},rightActionColumns:[{name:"approve-single-column",className:e$.oi,cellComponent:t=>n.createElement(eq,{request:t,plan:e,numRowsSelected:eY,handleRequests:t5,isELA:tD,isProrationBillingEnabled:X})},{...eI.VU,cellComponent:e=>n.createElement(eD,{request:e,setHighlightedItemId:tK})}],scrollBarAlwaysVisible:!0,scrollContentRef:j,sortState:(0,P.W4)(eB),stickyContent:as,unselectableItemKeys:e9})),t7)}},901617:(e,t,a)=>{a.d(t,{KB:()=>r,LX:()=>i,lR:()=>l,qf:()=>s,tg:()=>n});let n=443==a.j?"Admin settings onboarding - admin nav changes -":null,r="admin_sidebar_plan_information_onboarding_key",l="admin_sidebar_back_to_files_onboarding_key",i="admin_dashboard_onboarding_key",s="admin_seat_approval_settings_onboarding_key"},689521:(e,t,a)=>{a.d(t,{g:()=>i});var n=a(263336),r=a(136169);let l=[r.rRT,r.TaD,r.Clh,r.Msu,r.LPt];function i(e){let t=l.indexOf(e);if(-1===t)return console.warn("Add overlay to ADMIN_DEFAULT_PLUS_OVERLAYS to set relative priority",e),n.N.DEFAULT_MODAL;let a=l.length;return n.N.DEFAULT_MODAL+(a-t)/a}},477087:(e,t,a)=>{let n;a.d(t,{r:()=>i});var r=a(240692),l=a(446951);function i(){return n??=(0,l.Ju)(r.A.createLazyComponent(()=>Promise.all([a.e(8923),a.e(7333),a.e(3455),a.e(9376),a.e(6148),a.e(3178),a.e(373),a.e(3720),a.e(6048)]).then(a.bind(a,913454)).then(e=>e.UpdateTeamDescriptionModal),(0,l.Ij)("UpdateTeamDescriptionModal")))}},830344:(e,t,a)=>{if(a.d(t,{G:()=>l,a:()=>i}),443==a.j)var n=a(907031);var r=a(850768);function l(e){return e&&(0,n.K)(r.G_,e)||r.G_.OVERVIEW}function i(e,t,a){return e===r.J7.BILLING?l(t):e===r.J7.CONTENT&&(a.showResourceConnectionInviteModal||a.showResourceConnectionFlyout)?r.SN.CONNECTED_PROJECTS:t}},317567:(e,t,a)=>{a.d(t,{I:()=>s});var n=a(848318),r=a(938982),l=a(386040),i=a(863270);function s(e){return n.createElement(l.tH,{boundaryKey:e.trackingName,team:e.team??r.e.SCALE,fallback:l.H4.NONE_I_KNOW_WHAT_IM_DOING},n.createElement(i.fu,{name:e.trackingName,enabled:e.open,properties:e.trackingProperties},e.children))}},596441:(e,t,a)=>{a.d(t,{K:()=>E});var n=a(848318),r=a(301168);if(443==a.j)var l=a(469508);if(443==a.j)var i=a(531788);if(443==a.j)var s=a(990140);var o=a(615233),d=a(230618),c=a(297638),m=a(967688),u=a(925085);if(443==a.j)var _=a(250795);var p=a(31898),g=a(138528);function E(e){let t=(0,r.wA)(),a=(0,g.Xd)("ConnectedProjectsEmptyView",{useSidebarOrOpenFile:!0}),E=(0,g.Um)(a).unwrapOr(!1),v=n.createElement(l.N,{href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects#h_01JMJDKJFD68CH88F663KG08AJ"}," ",(0,m.tx)("resource_connection.request_modal.learn_more")," ");return n.createElement(u.Y,{width:"fill-parent",height:"fill-parent",direction:"vertical",horizontalAlignItems:"center",verticalAlignItems:"center",spacing:16,padding:32},n.createElement(d.oW,{src:(0,o.ck)("1afa222e66cf25ca6e6364b97885e5354321145f"),alt:"Connected projects logo",width:150}),n.createElement("div",{className:c.s.textHeadingMedium.$},(0,m.t)("connected_projects_table.collaborate_in_a_connected_project")),n.createElement("div",{className:c.s.textBodyLarge.$,style:{width:"508px",textAlign:"center"}},E?(0,m.tx)("resource_connection.admin_ui.create_a_connected_project_body_for_permissioned_user_v3"):(0,m.tx)("resource_connection.admin_ui.connected_projects_help_you_collaborate_and_share_resources_with_external_teams",{learnMore:v})),E&&n.createElement(n.Fragment,null,n.createElement(i.$n,{iconPrefix:n.createElement(s.e,null),variant:"primary",onClick:()=>{t(p.to({type:_.B,data:{entryPoint:e.entryPoint}}))}},(0,m.t)("resource_connection.admin_ui.connect_project")),v),n.createElement("div",{className:c.s.h100.$}))}},753590:(e,t,a)=>{a.d(t,{A:()=>N});var n=a(848318),r=a(301168),l=a(469508),i=a(760893),s=a(376771),o=a(531788),d=a(468516),c=a(580494),m=a(536384),u=a.n(m),_=a(615233),p=a(410725),g=a(230618),E=a(297638),v=a(967688),f=a(496522),b=a(250795),h=a(31898),y=a(533737),T=a(816760),I=a(55116),S=a(138528),A=a(72447);let w="connected_projects_tab_header--headerContainer--Rz5m6";function N(){let e=(0,r.wA)(),t=(0,S.Xd)("ConnectedProjectsTabHeader",{useSidebarOrOpenFile:!0}),a=(0,S.tJ)("ConnectedProjectsTabHeader",{useSidebarOrOpenFile:!0}).unwrapOr(null),m=(0,S.Um)(t).unwrapOr(!1),N=a?.tier,R=a?.connectionCount??0,C=(0,T.N)(a?.key,()=>{e(h.to({type:b.B,data:{entryPoint:f.wR.CONNECTED_PROJECT_ADMIN_UI}}))}),k=n.createElement(l.N,{href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects"},(0,v.tx)("resource_connection.request_modal.learn_more")),x=(0,p.Rs)(I.sMZ,{name:"seen_connected_projects_org_member_banner"}),O=n.useMemo(()=>"loaded"!==x.status||!!x.data?.currentUser?.userFlagByName,[x]),L=(0,c.k)().fc_initial_onboarding_enabled&&!O?n.createElement("div",{className:u()(E.s.pt10.$,w)},n.createElement(i.Cs,{variant:"brand",icon:n.createElement(d.L,{style:{"--color-icon":"var(--color-icon-brand)"}}),onDismiss:()=>{e(y.b({seen_connected_projects_org_member_banner:!0}))}},n.createElement(s.Q,null,(0,v.tx)("resource_connection.connected_projects_tab.connected_projects_help_you_collaborate",{learnMore:k})))):n.createElement(n.Fragment,null);return m?n.createElement("div",{className:w},n.createElement("div",{className:"connected_projects_tab_header--contentContainer--xKmY8"},n.createElement(n.Fragment,null,n.createElement("div",{className:E.s.textBodyLarge.$},(0,v.tx)("resource_connection.admin_ui.create_a_connected_project_to_collaborate_with_external_teams_without_being_charged_for_their_seats",{learnMore:k})),n.createElement("div",{className:"connected_projects_tab_header--buttonContainer--mL5-t"},n.createElement("div",null,n.createElement(o.$n,{onClick:C},(0,v.t)("resource_connection.admin_ui.connect_project"))),n.createElement("div",{className:E.s.colorTextSecondary.$},a&&N&&R?a.unlimitedConnectionsEnabled||a.testingOnlyUnlimitedConnectionsEnabled?(0,v.tx)("resource_connection.admin_ui.unlimited_connections",{numConnections:R}):A.b[N]-R>0?(0,v.tx)("resource_connection.admin_ui.using_num_of_connections",{numConnections:R,maxConnections:A.b[N]}):(0,v.tx)("resource_connection.admin_ui.maxed_out_connections",{maxConnections:A.b[N],planTier:(0,A.A)(N)}):null)))),n.createElement(g.oW,{src:(0,_.ck)("1afa222e66cf25ca6e6364b97885e5354321145f"),alt:"Connected projects logo",width:115,height:80})):L}},387690:(e,t,a)=>{a.d(t,{m:()=>S});var n=a(848318),r=a(575055),l=a(309876),i=a(954703),s=a(93275),o=a(124810),d=a(536384),c=a.n(d),m=a(740705),u=a(4327),_=a(324366),p=a(978877),g=a(971536),E=a(401970),v=a(297638),f=a(967688),b=a(821527);let h=(0,n.createContext)(null);function y(){let e=(0,n.useContext)(h);if(!e)throw Error("missing FlyoutContext for flyout! does the current component have a Flyout.Root parent?");return e}function T(){return y().close}function I(){let e=T();return n.createElement("div",{className:c()(v.s.absolute.flex.itemsCenter.justifyCenter.$,"flyout--close--SKgKT")},n.createElement(i.K,{onClick:()=>e("button"),"aria-label":(0,f.t)("modal.close")},n.createElement(E.U,{svg:b.default},n.createElement(o.A,null))))}let S={Root:(0,n.forwardRef)((e,t)=>{let a=(0,n.useMemo)(()=>({ref:t,close:e.onClose}),[e.onClose,t]);return n.createElement(h.Provider,{value:a},n.createElement(m.N,{initial:!1},e.open?n.createElement(n.Fragment,{key:"contents"},e.children):null))}),Contents:function({children:e,...t}){let{close:a,ref:i}=y(),s=(0,g.M)(i);(0,n.useEffect)(()=>{let e=s.current;if(!e)return;let t=e=>{"Escape"===e.key&&(e.preventDefault(),a("escape"))};return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}},[a,s]);let[o,d]=(0,u.xQ)(),m=(0,_.d)("translateX(100%)");return(0,n.useEffect)(()=>{let e;return o?m.set("none"):(m.set("translateX(100%)"),e=setTimeout(d,600)),()=>{clearTimeout(e)}},[o]),n.createElement(r.i,null,n.createElement(l.b,{...t,className:c()(v.s.fixed.top0.right0.bottom0.left0.zIndexModal.colorText.eventsNone.$,t.zIndexOverrideClassName),ref:s},n.createElement("div",{className:c()(v.s.my0.mr0.mlAuto.top0.wFull.eventsAuto.$,"flyout--contents--g9Ra6")},n.createElement(p.P.div,{className:v.s.hFull.elevation400.colorBg.flex.flexColumn.$,style:{transform:m,...o?{transition:"transform 500ms cubic-bezier(0.25, 1, 0.5, 1)"}:{transition:"transform 500ms cubic-bezier(0.25, 1, 0.5, 1), visibility 0s 500ms",visibility:"hidden"}},onTransitionEnd:e=>{"transform"!==e.propertyName||o||d()}},n.createElement(I,null),e))))},Header:function(e){return n.createElement("div",{className:c()(v.s.minH40.bb1.colorBorder.bSolid.flex.itemsCenter.selectNone.flexShrink0.overflowHidden.$,"flyout--header--AZ5ed")},e.children)},HiddenTitle:s.r1,Title:function(e){return n.createElement(l.J,{className:v.s.textBodyMediumStrong.pl16.pr4.wFull.noWrap.ellipsis.overflowHidden.$},e.children)},Body:function(e){let{height:t,...a}=e;return n.createElement("div",{className:c()(v.s.overflowAuto.if("fill"===e.height,v.s.hFull).$,"flyout--body--2bx8h"),"data-testid":"flyout-body"},a.children)},useClose:T}},954205:(e,t,a)=>{a.d(t,{n:()=>E,X:()=>v});var n=a(848318),r=a(544405),l=a(833677),i=a(808943),s=a(88706),o=a(536384),d=a.n(o),c=a(297638),m=a(178806),u=a(925085),_=a(87463);let p="highlight--container--2-8sY",g="highlight--background--1B0mj";function E(e){return n.createElement(m.e6,{className:p,disabled:e.disabled,onClick:e.onClick,"aria-label":e["aria-label"],innerText:e.innerText,trackingProperties:e.trackingProperties},e.children,n.createElement("div",{className:g}),!e.hideChevron&&n.createElement(n.Fragment,null,n.createElement(u.M,null),n.createElement(i.k,{className:d()("highlight--chevron--vUd7C",c.s.ml8.$)})))}function v(e){let t=n.useId();return n.createElement(n.Fragment,null,n.createElement(r.h,{htmlFor:t},e.ariaLabel),n.createElement(l.l9,{id:t,className:p,disabled:e.disabled},n.createElement(_.E,{truncate:!0},e.children),n.createElement("div",{className:g}),n.createElement(s.r,null)))}},538383:(e,t,a)=>{a.d(t,{v:()=>s});var n=a(848318);if(443==a.j)var r=a(875002);var l=a(895531);let i=443==a.j?["Enter"," "]:null;function s(e,t={}){let[a,o]=(0,n.useState)(null),d=(0,l.H)(t),c=(0,n.useRef)(),m=(0,n.useCallback)(e=>{o(null),c.current??=e},[]),u=(0,n.useMemo)(()=>{if(a)return e(a)},[a,e]),_=a&&!u;return(0,n.useEffect)(()=>{if(!a&&c.current){let e=t.onClear;e?.(c.current),c.current=void 0}},[a,t.onClear]),(0,n.useEffect)(()=>{a&&!_&&d.current.onHighlight?.()},[_,a,d]),(0,n.useEffect)(()=>{_&&m("item-missing")},[_,m]),(0,n.useEffect)(()=>{let e=d.current?.interactionConfig;if(!a||!e)return;let t=t=>{let a=new Map;e.forEach(e=>{e.ref.current&&a.set(e.ref.current,e.shouldClearHighlight)});let n=(0,r.SD)(t.target);for(;n;){let e=a.get(n);if("boolean"==typeof e)return e;n=n.parentElement}return!1},n=e=>{t(e)&&m("other-interaction")},l=e=>{i.includes(e.key)&&t(e)&&m("other-interaction")},s=e=>{t(e)&&setTimeout(()=>m("other-interaction"),0)};return document.body.addEventListener("pointerdown",n,{capture:!0}),document.body.addEventListener("keydown",l,{capture:!0}),document.body.addEventListener("input",s,{capture:!0}),()=>{document.body.removeEventListener("pointerdown",n,{capture:!0}),document.body.removeEventListener("keydown",l,{capture:!0}),document.body.addEventListener("input",s,{capture:!0})}},[a,m,d]),{highlightedItem:u,setHighlightedItemId:o,clearHighlightedItemId:m}}},168100:(e,t,a)=>{a.d(t,{b:()=>s});var n=a(848318),r=a(580494),l=a(989232),i=a(863270);function s(e){let{properties:t}=(0,i.j6)(),a=(0,n.useMemo)(()=>(0,r.k)().temp_rum_logging?{addToRUM:!0}:void 0,[]);return(0,n.useCallback)(n=>{(0,l.trackEvent)("admin_flyout_closed",{...t,flyout_id:e,reason:n},a)},[t,e,a])}},439525:(e,t,a)=>{a.d(t,{B:()=>i,z:()=>l});var n=a(848318);let r=(0,n.createContext)(null);function l(e){return n.createElement(r.Provider,{value:e.layoutRef},e.children)}function i(){let e=(0,n.useContext)(r);if(!e)throw Error("useLayoutRef must be used within LayoutRefProvider");return e}},890201:(e,t,a)=>{a.d(t,{S:()=>ed,d:()=>ec});var n=a(848318),r=a(301168),l=a(860676),i=a(938982),s=a(582039),o=a(309488),d=a(93275),c=a(469508),m=a(782073),u=a(82433),_=a(989232),p=a(329228),g=a(998568),E=a(386040),v=a(136126),f=a(297638),b=a(178806),h=a(967688),y=a(952039),T=a(113752),I=a(925085),S=a(188279),A=a(501104),w=a(318147),N=a(834612),R=a(912534),C=a(640724);w.Ag.STUDENT,w.Ag.STARTER;let k=A.N_.dict(()=>"-");var x=a(957872),O=a(863270),L=a(481406),M=a(594950),q=a(694930),P=a(138528),D=a(991675),U=a(535306),F=a(446951),B=a(125952),G=a(523048),V=a(156974),$=a(309407),W=a(744577),z=a(468159),j=a(72464),Q=a(716054),H=a(907727),Y=a(17753);function K({billableProductKey:e,upgradeApprovalSetting:t,isSelected:a,setUpgradeApprovalSetting:r,isLastOption:l,isELA:i,isProrationBillingEnabled:s,isProvisionalAccessEnabled:o}){let d=(0,j.SI)(t),c=(0,j.kj)(t,i,s,o),m=(0,j.NU)(t,i);return n.createElement(n.Fragment,null,n.createElement("div",{"data-testid":"upgrade-approval-settings-dropdown-option","data-tooltip":m,"data-tooltip-hide-immediately":!0,"data-tooltip-max-width":"200px","data-tooltip-show-immediately":!0,"data-tooltip-show-left":!0,"data-tooltip-text-left":!0,"data-tooltip-type":Y.Ib.TEXT},n.createElement(V.c$,{id:`${e}_${t}`,key:`${e}_${t}`,onClick:()=>r(e,t),disabled:!!m},n.createElement(I.Y,{direction:"horizontal",horizontalAlignItems:"start",verticalAlignItems:"center",padding:{top:8,bottom:8,left:0,right:4}},n.createElement(H.l,{style:W.sx.add({"--color-icon":"var(--color-icon-onbrand)"}).if(a,W.sx.visible,W.sx.invisible).$}),n.createElement(I.Y,{direction:"vertical",spacing:0},n.createElement("div",{className:f.s.textBodyMedium.$},d),n.createElement("div",{className:f.s.textBodyMedium.preWrap.if(!m,f.s.colorTextMenuSecondary).$},c))))),!l&&n.createElement(V.wv,null))}let X=[l.zRx.MANUAL_APPROVAL,l.zRx.INSTANT_APPROVAL_IF_AVAILABLE_SEATS,l.zRx.INSTANT_APPROVAL];function J({priceString:e,billableProductKey:t,selectedUpgradeApprovalSetting:a,setUpgradeApprovalSetting:r,isELA:l,shouldHidePrice:i,isProrationBillingEnabled:s,isProvisionalAccessEnabled:o}){let d=(0,j.CM)(t),c=(0,n.useMemo)(()=>X.map((e,i,d)=>n.createElement(K,{key:`${t}_${e}`,billableProductKey:t,upgradeApprovalSetting:e,isSelected:a===e,setUpgradeApprovalSetting:r,isLastOption:i===d.length-1,isELA:l,isProrationBillingEnabled:s,isProvisionalAccessEnabled:o})),[t,l,a,r,s,o]);return n.createElement(I.Y,{direction:"vertical",spacing:8,dataTestId:`auto-approval-settings-selector-${t}`},n.createElement(I.Y,{direction:"horizontal",horizontalAlignItems:"space-between",verticalAlignItems:"start"},n.createElement(I.Y,{direction:"horizontal",horizontalAlignItems:"space-between"},n.createElement(I.Y,{direction:"horizontal"},n.createElement(z.B,{type:t,size:"24"}),n.createElement("div",{className:f.s.textBodyMediumStrong.$},d)),n.createElement(Z,{shouldHidePrice:i,priceString:e,seatType:t}))),n.createElement(V.Ve,{label:(0,j.SI)(a),options:c,className:f.s.wFull.radiusMedium.$,dropdownOptionsClassName:f.s.wFull.$}))}function Z({shouldHidePrice:e,seatType:t,priceString:a}){let r=n.createElement("div",{"data-testid":`${t}-price`,style:W.sx.noWrap.colorTextSecondary.$},e?(0,h.tx)("general.whats_included"):(0,h.tx)("general.price_per_month",{priceString:a}));return n.createElement($.b,{type:"listbox",text:r,popoverContent:n.createElement("div",{style:W.sx.flex.flexColumn.gap8.$},n.createElement(Q.i,{seatType:t,spacing:8}))})}let ee=l.zRx.INSTANT_APPROVAL_IF_AVAILABLE_SEATS;function et(e){let t=(0,r.wA)(),{currency:a,renewalTerm:l}=e,m=s.hS(e),u=(0,q.d)({reportErrorsToTeam:i.e.SCALE}),_=(0,C.k)(),E=(0,P.tJ)("AutoApprovalSettingsModalInner",{useSidebarOrOpenFile:!0}),[v]=(0,p.mI)(E),I=!!v.data?.campfireProvisionalAccessEnabled,F=(0,L.i6)(),G=F.data;if(n.useEffect(()=>{"errors"===F.status&&console.error("orgManagesSeatsViaScimQueryResult error",F.errors)},[F]),"loaded"!==v.status){let e=Error("disabled"===v.status?"Plan fetching disabled":"Error fetching plan");throw(0,g.$D)(i.e.MONETIZATION_EXPANSION,e),e}let V=v.data;if(!V){let e=Error("No Plan found");throw(0,g.$D)(i.e.MONETIZATION_EXPANSION,e),e}let{billableProductKeyContractPrices:$,status:W}=function(e,t,a){let n=(0,S.Ln)(e.key,A.N_,{renewalTerm:a,unit:R.IX.MONTH}),[r]=(0,p.mI)(n),l=(0,C.k)(),s="disabled"===r.status?Error("Missing contract rate args."):"errors"===r.status?Error("Error while fetching pricing."):void 0;if(s&&(0,g.$D)(i.e.MONETIZATION_EXPANSION,s),s||!t)return{billableProductKeyContractPrices:k,status:r.status};let{data:o}=r;if(null===o||!l)return{billableProductKeyContractPrices:k,status:r.status};let d=new N.vr(t);return{billableProductKeyContractPrices:A.N_.dict(e=>d.formatMoney(o[e].amount,{showCents:!1})),status:r.status}}(V,a,l),[z,j]=(0,n.useState)({[M.ud.EXPERT]:V.upgradeApprovalSettingsExpert??ee,[M.ud.DEVELOPER]:V.upgradeApprovalSettingsDeveloper??ee,[M.ud.COLLABORATOR]:V.upgradeApprovalSettingsCollaborator??ee}),Q=(0,n.useCallback)(async()=>{if(!V.key.type||!V.key.parentId)throw Error("Missing plan key type or parentId.");await U.V.updateUpgradeApprovalSettings(V.key.type,V.key.parentId,z),m.props?.close({source:"button"}),t(y.F.enqueue({message:(0,h.t)("plan_settings.auto_approval_settings.approval_settings_applied"),icon:T.zX.CHECK_WITH_CIRCLE}))},[z,t,m.props,V.key.parentId,V.key.type]),H=(0,n.useCallback)((e,t)=>{j(a=>({...a,[e]:t}))},[]),Y=u||!a||"errors"===W||!_;return n.createElement(O.fu,{name:D.e0.AUTO_APPROVAL_SETTINGS_MODAL,properties:{planType:V.key.type,orgId:V.key.type===w.OL.ORG?V.key.parentId:void 0,teamId:V.key.type===w.OL.TEAM?V.key.parentId:void 0}},n.createElement(o.bL,{manager:m,width:480},n.createElement(d.vo,{allowOverflow:!0},n.createElement(d.nB,null,n.createElement("div",{className:f.s.pt32.pb8.px8.flex.flexColumn.$,"data-testid":"auto-approval-settings-modal-header"},n.createElement(B.Ro,{entity:{...V,id:V?.id??void 0},shape:"CIRCLE",size:48,className:f.s.mb16.$}),n.createElement("div",{className:f.s.textHeadingMedium.mb8.$},e.isCurfEnabledForMembers?(0,h.tx)("plan_settings.auto_approval_settings.title.curf_enabled_for_members"):(0,h.tx)("plan_settings.auto_approval_settings.title")),n.createElement("span",null,n.createElement("span",{className:f.s.textBodyMedium.colorTextSecondary.preWrap.$},u?e.isCurfEnabledForMembers?(0,h.tx)("plan_settings.auto_approval_settings_subtitle_ela_and_curf_enabled_for_members"):(0,h.tx)("plan_settings.auto_approval_settings_subtitle_ela"):e.isCurfEnabledForMembers?(0,h.tx)("plan_settings.auto_approval_settings.subtitle_curf_members"):(0,h.tx)("plan_settings.auto_approval_settings.subtitle")),n.createElement(c.N,{href:"https://help.figma.com/hc/articles/4414038570007",newTab:!0},(0,h.tx)("plan_settings.auto_approval_settings.learn_about_seat_management_options"))),n.createElement("div",{className:f.s.mt24.flex.flexColumn.gap24.mb8.$},Object.keys(z).map(e=>n.createElement(J,{key:e,billableProductKey:e,isELA:u,isProrationBillingEnabled:_,isProvisionalAccessEnabled:I,planName:V.name,priceString:$[e],selectedUpgradeApprovalSetting:z[e],setUpgradeApprovalSetting:H,shouldHidePrice:Y})),!!e.isCurfEnabledForMembers&&n.createElement(er,null),G&&!e.isCurfEnabledForMembers&&n.createElement(en,null),n.createElement(ea,{failedToLoadPrices:"errors"===W})))),n.createElement(d.wi,null,n.createElement(d.jk,null,n.createElement(b.$z,{variant:"secondary",onClick:()=>m.props?.close({source:"button"}),trackingProperties:{trackingDescriptor:x.c.CANCEL}},(0,h.tx)("plan_settings.auto_approval_settings.cancel")),n.createElement(b.$z,{variant:"primary",onClick:Q,trackingProperties:{trackingDescriptor:V.key.type?V.key.type===w.OL.ORG?x.c.SAVE_FOR_ORGANIZATION:x.c.SAVE_FOR_TEAM:x.c.SAVE}},V.key.type?V.key.type===w.OL.ORG?(0,h.tx)("plan_settings.auto_approval_settings.save_for_plan.organization"):(0,h.tx)("plan_settings.auto_approval_settings.save_for_plan.team"):(0,h.tx)("plan_settings.auto_approval_settings.save_for_plan.no_plan")))))))}function ea({failedToLoadPrices:e}){return(n.useEffect(()=>{e&&(0,_.trackEvent)("seat_purchasing.non_blocking_fetch_error",{price_fetch_error:e,view:"seat_approval_settings_modal"},{forwardToDatadog:!0})},[e]),e)?n.createElement(v._,{dataTestId:"pricing-error-badge",color:v.S.WARNING,padding:8,text:(0,h.tx)("plan_settings.auto_approval_settings.pricing_error")}):null}function en(){return n.createElement(O.fu,{name:D.e0.SCIM_INFO_BADGE},n.createElement(v._,{dataTestId:"scim-info-badge",color:v.S.INFORMATION,padding:8,text:n.createElement(I.Y,{direction:"vertical",spacing:4},n.createElement("p",{...u.xk(m.g.textBodyMediumStrong)},(0,h.tx)("plan_settings.auto_approval_settings.scim_badge.title")),n.createElement("p",null,(0,h.tx)("plan_settings.auto_approval_settings.scim_badge.subtitle")))}))}function er(){return n.createElement(O.fu,{name:D.e0.CURF_MEMBER_INFO_BADGE},n.createElement(v._,{dataTestId:"curf-member-only-info-badge",color:v.S.INFORMATION,padding:8,text:n.createElement(I.Y,{direction:"vertical",spacing:4},n.createElement("p",{className:f.s.textBodyMediumStrong.$},(0,h.tx)("plan_settings.auto_approval_settings.curf_badge.title")),n.createElement("p",null," ",(0,h.tx)("plan_settings.auto_approval_settings.curf_badge.subtitle")))}))}let el=(0,F.Ju)(function(e){return n.createElement(E.tH,{boundaryKey:"AutoApprovalSettingsModal",fallback:E.H4.DEFAULT_FULL_PAGE,hasCustomWASMBuild:!1},n.createElement(n.Suspense,{fallback:n.createElement(G.N,{hiddenTitle:"Auto Approval Settings",estimatedWidth:480,estimatedHeight:577})},n.createElement(et,{...e})))});var ei=a(531788);let es=(0,F.Ju)(function(e){let t=(0,P.tJ)("CurfAllUsersAutoApprovalSettingsModal",{useSidebarOrOpenFile:!0}).unwrapOr(null),a=s.hS(e);return n.createElement(O.fu,{name:"Auto Approval Settings Modal (CURF All Users)"},n.createElement(o.bL,{manager:a,width:480},n.createElement(d.vo,null,n.createElement(d.nB,null,n.createElement("div",{className:f.s.pt32.px8.pb8.flex.flexColumn.$,"data-testid":"auto-approval-settings-modal-header"},n.createElement(B.Ro,{entity:{...t,id:t?.id??void 0},shape:"CIRCLE",size:48,className:f.s.mb16.$}),n.createElement("div",{className:f.s.textHeadingMedium.mb8.$},(0,h.tx)("plan_settings.curf_auto_approval_settings_modal.title")),n.createElement("span",{className:f.s.textBodyMedium.colorTextSecondary.$},(0,h.tx)("plan_settings.curf_auto_approval_settings_modal.description")))),n.createElement(d.wi,null,n.createElement(d.jk,null,n.createElement(ei.$n,{variant:"primary",onClick:()=>a.props?.close({source:"button"})},(0,h.tx)("plan_settings.curf_auto_approval_settings_modal.got_it")))))))},"CurfAllUsersAutoApprovalSettingsModal");var eo=a(31898);function ed({dispatch:e,currency:t,renewalTerm:a,isCurfEnabledForMembers:n}){return()=>{e(eo.to({type:el,data:{currency:t,renewalTerm:a,isCurfEnabledForMembers:n}}))}}function ec({dispatch:e}){return()=>{e(eo.to({type:es,data:{}}))}}},605559:(e,t,a)=>{let n;a.d(t,{Y:()=>I});var r=a(848318),l=a(301168),i=a(582039),s=a(309488),o=a(93275),d=a(580494),c=a(136126),m=a(755534),u=a(297638),_=a(967688),p=a(863270),g=a(318147),E=a(683703),v=a(535306),f=a(583940),b=a(446951),h=a(125952),y=a(512907);function T(e){let t=(0,l.wA)(),a=i.hS(e),n=(0,y.lM)(e.entryPoint),[b,T]=r.useState();r.useEffect(()=>{if((0,d.k)().can_transfer_admin_list)v.V.getTransferAdmins(e.planType,e.planId,e.resourceType,e.resourceIdOrKey).then(({data:e})=>{T(e.meta.map(e=>({id:e.id,name:e.name,email:e.email,imgUrl:e.img_url})))});else if(e.planType===g.OL.ORG){E.Eh.getOrgAdmins({orgId:e.planId}).then(({data:e})=>{T(e.meta)});return}else e.planType===g.OL.TEAM&&f.$.getTeamAdmins({teamId:e.planId}).then(({data:e})=>{T(e.meta)})},[e.planType,e.planId,e.resourceType,e.resourceIdOrKey,t]);let I=e.planName??(0,_.t)("general.fallback_team_name");return r.createElement(p.fu,{name:"Asset Transfer Admin List Modal"},r.createElement(s.bL,{manager:a,width:"lg"},r.createElement(o.vo,null,r.createElement(o.Y9,null,r.createElement(o.hE,null,(0,_.tx)("asset_transfers.editor_admin_list_modal.admins_at_entity",{entity:I}))),r.createElement(o.nB,{scrolling:"none"},r.createElement(c._,{color:c.S.INFORMATION,text:n?(0,_.tx)("asset_transfers.editor_admin_list_modal.any_of_these_admins_can_transfer_this_project_to_an_external_organization"):(0,_.tx)("asset_transfers.editor_admin_list_modal.any_of_these_admins_can_transfer_this_team_to_an_external_organization")}),r.createElement(m.P,{className:"asset_transfer_admin_list_modal--scrollContainer--IG5YS"},r.createElement("div",{className:"asset_transfer_admin_list_modal--contentContainer--u5vXu"},(()=>{if(b){let e=b.map(e=>r.createElement("div",{className:u.s.py8.$,key:e.id},r.createElement(h.az,{key:e.id,entity:e,includeUserEmailAddress:!0,showIsMe:!1,hideFallbackInitial:!1})));return r.createElement("ul",null,e)}})()))))))}function I(){return n??=(0,b.Ju)(T,"AssetTransferAdminListModal")}},385545:(e,t,a)=>{a.d(t,{d:()=>N});var n=a(848318),r=a(301168),l=a(582039),i=a(309488),s=a(93275),o=a(531788),d=a(566371),c=a(615233),m=a(230618),u=a(345964),_=a(297638),p=a(967688),g=a(952039),E=a(72447),v=a(31898),f=a(863270),b=a(989884),h=a(816760),y=a(318147),T=a(138528),I=a(17753),S=a(400483),A=a(446951),w=a(397283);let N=(0,A.Ju)(function(e){let t=(0,r.wA)(),a=()=>{t(v.Ce())},A=(0,T.tJ)("ResourceConnectConfirmModal",{useSidebarOrOpenFile:!0}).unwrapOr(null),N=l.hS({...e,onClose:a}),[R,C]=n.useState(!1),k=(0,b.H)({useCurrentPlan:!0}),x=e.resourceConnectionInvite.hostPlan,O=e.resourceConnectionInvite.connectingPlan,L=(0,h.N)(A?.key,()=>{S.c.approveResourceConnectionInvite(e.resourceConnectionInvite.id).then(()=>{C(!1),a(),t(g.F.enqueue({message:(0,p.t)("resource_connection.visual_bell.connection_request_approved")}))}).catch(e=>{C(!1),a(),"Connecting plan has reached active connection and outgoing invite limit"===e.message?t(g.F.enqueue({message:A?.key.type===y.OL.TEAM?(0,p.t)("resource_connection.visual_bell.org_at_limit"):(0,p.t)("resource_connection.visual_bell.team_at_limit"),error:!0})):"Connecting plan cannot have external collaboration controls enabled"===e.message?t(g.F.enqueue({message:(0,p.t)("resource_connection.visual_bell.org_must_disable_ecc"),error:!0})):"Host settings"===e.message?t(g.F.enqueue({message:(0,p.t)("resource_connection.visual_bell.host_settings",{hostPlanName:x.name}),error:!0})):t(g.F.enqueue({message:(0,p.t)("resource_connection.visual_bell.generic_error"),error:!0}))})},e.resourceConnectionInvite.id);return k?n.createElement(f.fu,{name:"Project Connection Confirm Modal",properties:{folderId:e.resourceConnectionInvite.resourceId}},n.createElement(i.bL,{manager:N,width:"lg"},n.createElement(s.vo,null,n.createElement(s.Y9,null,n.createElement(s.hE,null,(0,p.tx)("resource_connection.confirm_modal.connect_with_host_plan",{hostPlanName:x.name}))),n.createElement(s.nB,{padding:0},n.createElement(m.oW,{src:(0,c.ck)("79f17ef7df0c5ed50af97e6c5e98651536c94352"),alt:"Connected projects logo",className:_.s.maxWFull.$}),n.createElement("div",{className:_.s.flex.flexColumn.pl16.pr16.pt16.pb0.maxWFull.$},n.createElement("p",{className:_.s.$},(0,p.tx)("resource_connection.confirm_modal.in_a_connected_project_anyone_you_invite_can_edit",{connectingPlanName:n.createElement("span",{className:_.s.fontSemiBold.$},O.name)})),n.createElement("div",{className:w.fF},n.createElement("div",{className:w.yF})),n.createElement("div",{className:w.Kg},n.createElement("div",{className:w.F5},n.createElement("p",{className:w.QU},(0,p.t)("resource_connection.project_name")),n.createElement("p",null,e.resourceConnectionInvite.resourceName)),n.createElement("div",{className:w.F5},n.createElement("p",{className:w.QU},(0,p.t)("resource_connection.host")),n.createElement("p",null,x.name)),n.createElement("div",{className:w.F5},n.createElement("p",{className:w.QU},(0,p.t)("resource_connection.invited_by")),n.createElement("p",null,e.resourceConnectionInvite.hostInviter?.name)),n.createElement("div",{className:w.F5},n.createElement("div",{className:w.j1},n.createElement("p",{className:w.QU},(0,p.t)("resource_connection.available_projects")),n.createElement("div",{...A?.tier?{"data-tooltip":(0,p.t)("resource_connection.available_projects_tooltip",{connectedProjectLimit:E.b[A.tier],planType:(0,E.A)(A.tier)??""}),"data-tooltip-type":I.Ib.TEXT,"data-tooltip-interactive":!0,"data-tooltip-show-immediately":!0,"data-tooltip-show-below":!0}:{}},n.createElement(d.B,{style:{"--color-icon":"var(--color-icon-secondary)"}}))),n.createElement("p",null,A?A?.unlimitedConnectionsEnabled||A?.testingOnlyUnlimitedConnectionsEnabled?(0,p.t)("resource_connection.unlimited"):(E.b[A.tier]-(A?.connectionCount??0)).toString():""))),n.createElement("div",{className:w.fF},n.createElement("div",{className:w.yF}))),n.createElement("div",{className:w.xQ},n.createElement("a",{href:"https://help.figma.com/hc/articles/30124855491863-Guide-to-connected-projects",target:"_blank",className:_.s.mr8.$},n.createElement(o.$n,{variant:"link",onClick:e=>e.stopPropagation()},(0,p.tx)("resource_connection.request_modal.learn_more"))),n.createElement("div",{className:_.s.flex.gap8.itemsCenter.$},n.createElement(o.$n,{variant:"secondary",onClick:()=>{S.c.denyResourceConnectionInvite(e.resourceConnectionInvite.id).then(()=>{C(!1),a(),t(g.F.enqueue({message:(0,p.t)("resource_connection.visual_bell.connection_request_denied")}))}).catch(e=>{C(!1),console.error("Error denying resource connection invite",e),t(g.F.enqueue({message:(0,p.t)("resource_connection.visual_bell.generic_error"),error:!0}))})}},(0,p.tx)("resource_connection.confirm_modal.decline")),R?n.createElement(o.$n,{disabled:!0},n.createElement(u.qc,null)):n.createElement(o.$n,{onClick:L},(0,p.tx)("resource_connection.connect")))))))):n.createElement(n.Fragment,null)},"ResourceConnectConfirmModal")},362332:(e,t,a)=>{a.d(t,{w:()=>o});var n=a(848318),r=a(301168),l=a(410725),i=a(453370),s=a(55116);function o(e){let t=(0,l.Rs)(s.Bl3,{id:e??""},{enabled:!!e}),a=(0,r.wA)();n.useLayoutEffect(()=>{"loaded"!==t.status||t.data.team?.hasPermission||a(i.$T({view:"recentsAndSharing"}))},[t,a])}},247698:(e,t,a)=>{if(a.d(t,{J:()=>i,X$:()=>s,nc:()=>l}),443==a.j)var n=a(907031);var r=a(773293);function l(e){return e&&(0,n.K)(r.pu,e)||r.pu.OVERVIEW}function i(e){return e&&(0,n.K)(r.F9,e)||r.F9.ABANDONED_DRAFTS}function s(e,t,a){return e===r.Iv.BILLING?l(t):e===r.Iv.CONTENT?a.showResourceConnectionInviteModal||a.showResourceConnectionFlyout?r.F9.CONNECTED_PROJECTS:i(t):t}},420285:(e,t,a)=>{a.d(t,{n:()=>o});var n=a(848318),r=a(301168);if(443==a.j)var l=a(1824);var i=a(957736),s=a(31898);function o(e,t,a,o,d,c){let m=(0,r.wA)();return n.useCallback(()=>{void 0!==t&&(e===i.am.MEMBERS&&t.team.org_id?m(s.to({type:(0,l.T)(),data:{teamId:t.team.id,notifyOnSuccess:!0,initialView:0}})):m(s.to({type:i.ut,data:{tab:e,teamSettingsProps:t,canAdmin:a,canEdit:o,canView:d,entryView:c}})))},[t,e,m,a,o,d,c])}},840364:(e,t,a)=>{a.d(t,{V:()=>i,X:()=>o});var n=a(878724),r=a(446951);let l=n.A.createLazyComponent(()=>Promise.all([a.e(6610),a.e(6694),a.e(8658),a.e(8029),a.e(7333),a.e(4372),a.e(3455),a.e(9376),a.e(8254),a.e(9424),a.e(9548),a.e(5655),a.e(6148),a.e(7120),a.e(5064),a.e(6784),a.e(373),a.e(5883),a.e(8717)]).then(a.bind(a,141772)).then(e=>e.ConfirmCancelAnnualPlanModal),(0,r.Ij)("ConfirmCancelAnnualPlanModal")),i=(0,r.Ju)(l,"ConfirmCancelAnnualPlanModal"),s=n.A.createLazyComponent(()=>Promise.all([a.e(6610),a.e(6694),a.e(8658),a.e(8029),a.e(7333),a.e(4372),a.e(3455),a.e(9376),a.e(8254),a.e(9424),a.e(9548),a.e(5655),a.e(6148),a.e(7120),a.e(5064),a.e(6784),a.e(373),a.e(5883),a.e(8717)]).then(a.bind(a,141772)).then(e=>e.ChangeAnnualPlanModal),(0,r.Ij)("ChangeAnnualPlanModal")),o=(0,r.Ju)(s,"ChangeAnnualPlanModal")},904337:(e,t,a)=>{a.d(t,{e9:()=>x,Mn:()=>D});var n=a(848318),r=a(301168),l=a(999667),i=a(870567),s=a(190243),o=a(410725),d=a(227276),c=a(129170),m=a(386040),u=a(720522),_=a(297638),p=a(967688),g=a(220576),E=a(596510),v=a(255585),f=a(805409),b=a(281408),h=a(421724),y=a(863270),T=a(141131),I=a(819624),S=a(637603),A=a(318147),w=a(55116),N=a(738105),R=a(17753);let C="admin_notifications_count_badge--yellowIcon--7SC5D";var k=a(57540);function x(e){let{getConfig:t}=(0,d.I7)("exp_all_admin_request_dash"),a=(0,o.Rs)(w.HpJ,{orgId:e.planId},{enabled:e.planType===E.ps.ORG}),r=!!("loaded"===a.status&&a.data?.org?.bigmaEnabledAt)&&t().get("enabled",!1)&&!!e.isOrgAdmin,s=(0,E.ZY)({isIntendedAudience:!!(e.planType===E.ps.ORG&&"loaded"===a.status&&a.data?.org?.bigmaEnabledAt)&&!1===e.isOrgAdmin}),m=e.isOrgAdmin?[null,...e.managedBillingGroups??[]]:e.managedBillingGroups,u=(0,o.Rs)(w.KR2,{planType:e.planType,planId:e.planId,filterParams:r||s?JSON.stringify({billing_group_ids:m}):e.isOrgAdmin?JSON.stringify({billing_group_ids:[null]}):JSON.stringify({billing_group_ids:[]})}),p="loaded"===u.status&&u.data.adminDashboardRequestsTotalCount.status===i.tT.Loaded&&("loaded"===a.status||e.planType===E.ps.TEAM)?u.data.adminDashboardRequestsTotalCount.data?.rowCount:void 0,g=p??0,[f,b]=(0,l.fp)(v.Y),h=r?[e.planType,e.planId,!0].toString():[e.planType,e.planId].toString();n.useEffect(()=>{if(p){let e={...f};e[h]=g,b(e)}return()=>{let e={...f};delete e[h],b(e)}},[e.isDataLoaded,p,h]);let y=(f[h]??0)+(e.billingStatusCount||0)+(e.taxStatusCount||0);if(y<1)return null;let T=c.zE.DEFAULT;return e.billingStatusCount||e.taxStatusCount?T=c.zE.WARNING:e.isSelected&&(T=c.zE.LIGHT),void 0!==p&&y>0&&e.isDataLoaded?n.createElement(c.Ex,{text:y.toString(),color:T,className:T===c.zE.DEFAULT?_.s.mr0.colorText.colorBgSelectedSecondary.$:_.s.mr0.$,dataTestId:"admin-notifications-badge"}):null}function O(e){let t=function(e,t){let a=(0,s.Xf)(e.id),r=(0,g.R)(),l=(0,S.MX)(),i=n.useMemo(()=>(0,T.Pn)(a.data),[a.data]),o=a.data?.invoices,d=(0,T.Yo)(r&&i?{planKey:{parentId:e.id,type:A.OL.ORG},nextRenewalDate:i}:null);return n.useMemo(()=>{let e=(0,f.ur)({invoices:o??[],licenseGroups:l,renewalConfirmed:d,userId:t.user_id,renewalAt:i});return e?.notification?1:0},[o,i,d,l,t.user_id])}(e.org,e.orgUser);return n.createElement(x,{isOrgAdmin:!1,isSelected:e.isSelected,planId:e.planId,planType:e.planType,billingStatusCount:t,managedBillingGroups:e.groupsUserIsAdminOf?e.groupsUserIsAdminOf.map(e=>e.id):[],taxStatusCount:void 0,isDataLoaded:void 0!==e.invoices})}function L(e){let t=function(e){let t=(0,s.Xf)(e.id),a=(0,g.R)(),r=(0,T.oU)(e),l=n.useMemo(()=>(0,T.Pn)(t.data),[t.data]),i=t.data?.invoices;return n.useMemo(()=>{if("loaded"!==t.status||!i||"loading"===r.status)return 0;let n=0;r.data?.show&&!r.data?.confirmed&&n++;let s=(0,f.uE)({invoices:i,org:e,campfireRenewalEnabled:a,renewalAt:l});return s?.notification&&n++,n},[a,i,e,t.status,r.data,r.status,l])}(e.org),a=(0,g.R)(),r=(0,S.EQ)(e.licenseGroups,e.orgUser.user_id,!1).groupsUserIsAdminOf.map(e=>e.id),l=e.taxIdVerificationStatus===A.kI.UNVERIFIED?1:0;return void 0!==e.taxIdVerificationStatus&&void 0!==e.invoices?n.createElement(x,{isOrgAdmin:!0,isSelected:e.isSelected,planId:e.planId,planType:e.planType,billingStatusCount:t,managedBillingGroups:r,taxStatusCount:a?0:l,isDataLoaded:void 0!==e.invoices}):null}var M=(e=>(e.WARNING="warning",e.NOTICE="notice",e))(M||{});function q(e,t,a,n,r,l){if(!n||!(0,N.i0)(n))return null;if(l){if(!r)return null;let{groupsUserIsAdminOf:e}=(0,S.EQ)(a,t.user_id,l),{groupsToReview:i}=(0,S.Cz)(e,n);if(0===i.length)return null}return{tooltipData:"",iconStyle:(0,N.m3)(n)?"admin_notifications_count_badge--redIcon--QvRuX":C,iconType:(0,N.m3)(n)?"warning":"notice"}}function P(e){return e!==A.kI.UNVERIFIED?null:{tooltipData:(0,p.t)("billing_status.tax_id.invalid"),iconStyle:C,iconType:"notice"}}function D(e){return n.createElement(m.tH,{boundaryKey:"OrgAdminBillingStatusBadge",fallback:n.createElement("div",null)},n.createElement(F,{...e}))}function U(e){let t=(0,r.wA)(),a=(0,S.MX)(),l=e.invoices&&(0,N.hX)(e.invoices),i=e.org.bigma_enabled&&e.orgUser.license_admin&&e.orgUser.permission!==A._D.ADMIN,s=(0,o.Rs)(w.Wt6,{orgId:e.org.id}),d="loaded"===s.status?s.data.org?.taxIdVerificationStatus:null;n.useEffect(()=>{l&&i&&t(h.Jt({forceRefetch:!1}))},[t,e.org.id,l,i]);let c=(()=>{switch(e.highlightType){case N.EZ.BILLING_STATUS:return q(e.org,e.orgUser,a,e.invoices,l,i);case N.EZ.TAX_ID_STATUS:return P(d);default:return q(e.org,e.orgUser,a,e.invoices,l,i)||P(d)}})();if(!c)return null;let m=`${c.iconStyle} ${e.inlineIcon?"admin_notifications_count_badge--inline--DETI2":""} ${e.alignTop?"admin_notifications_count_badge--multiLineIcon--6PT9X":""}`,_={};e.showTooltip&&(_["data-tooltip-type"]=R.Ib.TEXT,_["data-tooltip"]=c.tooltipData,_["data-tooltip-show-below"]=!0,_["data-tooltip-timeout-delay"]=50,_["data-tooltip-max-width"]=117);let p=n.createElement(u.B,{className:`admin_notifications_count_badge--warningSvg--sbgzs ${m}`,svg:k.A,useOriginalSrcFills_DEPRECATED:!0,..._}),g=e.showTooltip?n.createElement(b.Y,{className:m,dataTooltipType:_["data-tooltip-type"],dataTooltip:_["data-tooltip"],dataTooltipShowBelow:_["data-tooltip-show-below"],dataTooltipTimeout:_["data-tooltip-timeout-delay"],dataTooltipMaxWidth:_["data-tooltip-max-width"]}):n.createElement(b.Y,{className:m}),E="warning"===c.iconType?p:g;return(0,y.T8)(E,"Org Admin Billing Status Badge",{orgId:e.org.id,isCurrentUserLicenseAndNotOrgAdmin:i})}function F(e){let t=(0,r.wA)(),a=e.orgUser.permission===A._D.ADMIN,l=(0,S.RG)(),i=(0,S.MX)(),{groupsUserIsAdminOf:d}=(0,S.EQ)(i,e.orgUser.user_id,!a),c=(0,s.Xf)(e.org.id),m="loaded"===c.status?c.data?.invoices??[]:void 0;n.useEffect(()=>{t(h.Jt({forceRefetch:!1}))},[t,e.org.id]);let u=d[0]?.id,_=e.org.bigma_enabled&&l&&!!u,p=(0,I.NJ)(e.org.id).data??[],g=e.org.bigma_enabled&&p.length>0,v=a||_||g,f=(0,E.ZY)({isIntendedAudience:e.org.bigma_enabled&&!a}),b=(0,o.Rs)(w.Wt6,{orgId:e.org.id},{enabled:a}),y="loaded"===b.status?b.data.org?.taxIdVerificationStatus:void 0;return v?a?n.createElement(L,{planType:E.ps.ORG,planId:e.org.id,orgUser:e.orgUser,licenseGroups:i,taxIdVerificationStatus:y,invoices:m,isSelected:e.isSelected,org:e.org}):_?f?n.createElement(O,{invoices:m,groupsUserIsAdminOf:d,isSelected:e.isSelected,planId:e.org.id,planType:E.ps.ORG,orgUser:e.orgUser,org:e.org}):n.createElement(U,{invoices:m,showTooltip:!1,org:e.org,orgUser:e.orgUser}):null:null}},957736:(e,t,a)=>{a.d(t,{ut:()=>tk,am:()=>tA});var n=a(848318),r=a(301168),l=a(430385);a(82433);var i=a(656329),s=a(133318),o=a(345964),d=a(967688),c=a(912873),m=a(143823),u=a(580494),_=a(529640),p=a.n(_),g=a(410725),E=a(472520),v=a(613733),f=a(318147),b=a(55116),h=a(94831),y=a(660376),T=a(536384),I=a.n(T),S=a(156974),A=a(720522),w=a(87463),N=a(453370),R=a(31898),C=a(137563),k=a(511067),x=a(125761),O=a(280255),L=a(89140),M=a(292656),q=a(452374),P=a(17753),D=a(493571),U=a(125952),F=a(33249),B=a(244052),G=a(736956);let V=(0,B.ex)("restricted_edu_tooltip",function(e){let{text:t,title:a}=e;return n.createElement("span",{className:G.Qq},n.createElement("span",{style:{fontWeight:600}},a)," ",t)},e=>({title:e.getAttribute("data-tooltip-title"),text:e.getAttribute("data-tooltip-text")})),$="members_list_row--column--lYSr0",W="members_list_row--permissionsColumnModal--vpl7C members_list_row--column--lYSr0",z="members_list_row--roleRowWithRequests--Dmagz members_list_row--_membersListRowGridWithRequests--CLLCo members_list_row--_membersListRowGridWithRequestsBase--lj--X",j="members_list_row--roleRowWithRequestsModal--XkEe8 members_list_row--_membersListRowGridWithRequestsBase--lj--X",Q="members_list_row--acceptDenyText--FS9XK text--fontPos13--xW8hS text--_fontBase--QdLsd blue_link--blueLink--9rlnd",H="members_list_row--nameAndEmailColumn--8GdN6 members_list_row--column--lYSr0 members_list_row--_showWhenNarrow--FR1xk",Y="members_list_row--nameColumn--mEVQ- members_list_row--column--lYSr0 members_list_row--_hideWhenNarrow--8VpM-",K="members_list_row--emailColumn--v-F6U members_list_row--column--lYSr0 members_list_row--_hideWhenNarrow--8VpM-",X="members_list_row--fixedContextMenu--7vBtK",J="members_list_row--select--Dxew7 members_list_row--column--lYSr0",Z="members_list_row--dropdownIcon--mJelI",ee="members_list_row--avatarWithHandle--yirlt";var et=a(977613),ea=a(154709),en=a(443105);let er="team-member-list-row-dropdown";function el(e){let t=(0,r.wA)(),a=(0,x.Pc)(),l=(0,C.P)(),i=(0,k.Um)(),s=(0,r.d4)(t=>t.teams[e.teamId]),o=(0,n.useMemo)(()=>e.teamLgResult.transform(({team:t})=>({teamName:t?.name,isCurrentUserTeamOwner:t?.isOwner,canMakeTeamMemberAdmin:t?.canAdmin,canEditTeamMemberRole:(0,O.OL)(e.teamRole,!!t?.canAdmin,!!t?.canEdit)})).unwrapOr(null),[e.teamLgResult,e.teamRole]),c=(0,v.u8)({oldValue:!!(s&&e.teamMember&&(0,q.we)(s,e.teamMember)),oldValueReady:!0,newValue:e.isEduRestrictedLg,newValueReady:null!==e.isEduRestrictedLg,label:E.A.MembersListRow.eduGracePeriod,enableFullRead:!!(0,u.k)().team_member_modal_lg_cutover,contextArgs:{teamId:e.teamId,userId:e.teamMember?.id}}),m=(0,v.u8)({oldValue:(()=>{if(e.teamRole.user_id===a.id)return a.email;if(l){let t=Object.keys(l.usersByEmail).find(t=>e.teamRole.user_id===l.usersByEmail[t].id);if(t)return t}return e.teamRole.user.email})(),oldValueReady:!0,newValue:e.emailLg,newValueReady:null!==e.emailLg,label:E.A.MembersListRow.email,enableFullRead:!!(0,u.k)().team_member_modal_lg_cutover,contextArgs:{teamId:e.teamId,userId:e.teamMember?.id}}),_=n.useRef(null),p=()=>i&&i.type===er&&i.data.roleId===e.teamRole.id,g=a=>{if(p())t(N.oB());else{if(!_.current)return;let n=_.current?.getBoundingClientRect(),r=n.bottom+a>window.innerHeight,l=window.innerHeight-n.bottom;t(N.j7({type:er,data:{roleId:e.teamRole.id,position:{top:r?"auto":n.top,bottom:r?l:"auto",left:n.left-28,right:"auto"}}}))}},b=()=>{t((0,L.$S)({role:e.teamRole}))},T=a=>{(0,y.KF)(e.teamRole.resource_type===f.vt.TEAM,"MembersListRow is only for team roles");let n=()=>t((0,M.yN)({role:e.teamRole,level:a}));a===h.e6.OWNER?t((0,R.to)({type:F.b,data:{resourceType:e.teamRole.resource_type,resourceName:o?.teamName||"",newOwnerName:e.teamRole.user.handle,onConfirmTransfer:n}})):n()},B=(a,n)=>{e.isModal&&t(R.Ce()),t(N.$T({view:"user",userId:n.id,userViewTab:D.o.INTERNAL_PROFILE}))},G=(t,r)=>{let l;return e.teamRole.pending||(l=B),n.createElement(U.az,{className:e.isModal?"members_list_row--avatarWithHandleModal--EOxtN admin_settings_page--avatarWithHandle--awCiS ellipsis--ellipsis--Tjyfa":ee,defaultFallbackAvatarSvg:e.teamRole.pending?et.A:void 0,defaultText:"--",enabled:e.teamRole.pending,entity:t,includeUserEmailAddress:r,initializableEntityProperties:["handle","name","email"],onClick:l,overrideHandle:r?t.handle||t.name||t.email:void 0,showIsMe:e.teamRole.user_id===a.id,size:24})},Q=e.teamRole.pending?(e=>{let t=l?l.usersByEmail[e.user.email]:{},a={...e.user,id:e.user?e.user.id:void 0};return{...t,...a}})(e.teamRole):e.teamRole.user;return Q.email=m??void 0,n.createElement("div",{className:I()({[z]:!e.isModal,[j]:e.isModal}),"data-testid":"members-list-row"},e.isModal&&n.createElement("div",{className:"members_list_row--nameColumnModal--rT7n9 members_list_row--column--lYSr0"},G(Q,!0)),!e.isModal&&n.createElement(n.Fragment,null,n.createElement("div",{className:Y},G(Q,!1)),n.createElement("div",{className:H},G(Q,!0)),n.createElement("div",{className:K},n.createElement(w.E,{truncate:!0},Q.email)),n.createElement("div",null)),n.createElement("div",{className:e.isModal?W:$},(()=>{if(c)return n.createElement(A.B,{className:"members_list_row--warningIcon--G9r-7","data-tooltip":V,"data-tooltip-max-width":250,"data-tooltip-offset-y":10,"data-tooltip-text":(0,d.t)("team_view.upgrade.to_continue_editing_they_need_to_verify_their_education_status_at_www_figma_com_education_apply"),"data-tooltip-timeout-delay":50,"data-tooltip-title":(0,d.t)("team_view.upgrade.can_only_view",{teamMember:"handle"in e.teamRole.user?e.teamRole.user.handle:e.teamRole.user.email??""}),"data-tooltip-type":P.Ib.SPECIAL,dataTestId:"restricted-edu-user-tooltip",svg:en.A})})(),(()=>{let t;let r=[],l=!1;if(e.teamRole.user_id!==a.id||o?.isCurrentUserTeamOwner){if(!o?.canEditTeamMemberRole)return n.createElement("span",{className:"members_list_row--nonDropdownPadding--a8tyP"},(0,O.QN)(e.teamRole.level));o?.isCurrentUserTeamOwner&&!e.teamRole.pending&&r.push(h.e6.OWNER),o?.canMakeTeamMemberAdmin&&r.push(h.e6.ADMIN),r.push(h.e6.EDITOR),r.push(h.e6.VIEWER),l=e.teamRole.pending}else r.push(e.teamRole.level);let s=-24*Math.max(0,r.indexOf(e.teamRole.level));return p()&&i.data&&i.data.position&&(t={...i.data.position},t.top+=s),n.createElement("div",{ref:_},n.createElement("div",{className:J,onClick:()=>g(120+s)},n.createElement("span",null,(0,O.QN)(e.teamRole.level)),n.createElement(A.B,{svg:ea.A,className:Z})),p()&&n.createElement(S.ms,{className:X,style:t},r.map(t=>n.createElement(S.MM,{key:t,onClick:e.teamRole.level!==t?()=>T(t):void 0,checked:e.teamRole.level===t},(0,O.QN)(t))),n.createElement(S.wv,null),l&&n.createElement(S.c$,{onClick:b},(0,d.tx)("file_browser.team.resend_invite")),n.createElement(S.c$,{onClick:()=>T(h.e6.NONE)},e.teamRole.user_id!==a.id||o?.isCurrentUserTeamOwner?(0,d.tx)("file_browser.team.remove_confirm"):(0,d.tx)("file_browser.team.leave_confirm"))))})()))}var ei=a(989232),es=a(590318);let eo="team-pending-member-role-request-dropdown",ed=()=>{let e=(0,r.d4)(e=>e.dropdownShown);return e&&e?.type===eo?e:null};function ec(e){let t=(0,r.wA)(),a=ed(),l=n.useRef(null),[i,s]=n.useState(e.request.level),o=(0,r.d4)(t=>e.request.teamId&&t.roles.byTeamId[e.request.teamId]?t.roles.byTeamId[e.request.teamId][e.request.user.id]:null),c=n.useMemo(()=>o?[h.e6.EDITOR]:[h.e6.VIEWER,h.e6.EDITOR],[o]),m={id:e.request.user.id,img_url:e.request.user.imgUrl,handle:e.request.user.handle,name:e.request.user.name??"",email:e.request.user.email??""},u=n=>{if(a)t(N.oB());else{let a=l&&l.current&&l.current.getBoundingClientRect(),r=a?.bottom??0+n>window.innerHeight,i=window.innerHeight-(a?.bottom??0);t(N.j7({type:eo,data:{requestId:e.request.id,position:{top:r?"auto":a?.top,bottom:r?i:"auto",left:a?.left??-28,right:"auto"}}}))}},_=e=>{s(e),t(N.oB())},p=n.useMemo(()=>-24*Math.max(0,c.indexOf(i)),[i,c]),g=n.useMemo(()=>{let e;return a&&a.data&&a.data.position&&(e={...a.data.position},e.top+=p),e},[a,p]),E=(e,a)=>{t(N.$T({view:"user",userId:a.id,userViewTab:D.o.INTERNAL_PROFILE}))},v=(e,t)=>n.createElement(U.az,{entity:e,initializableEntityProperties:["handle","name","email"],size:24,className:ee,onClick:E,overrideHandle:t?e.handle||e.name||e.email:void 0,defaultText:"--"}),f={request_id:e.request.id,team_id:e.request.teamId,type:i,response:"accept",source:"TeamPendingMembersRow"};return n.createElement("div",{className:e.isModal?j:z},e.isModal&&n.createElement("div",{className:$},v(m,!0)),!e.isModal&&n.createElement(n.Fragment,null,n.createElement("div",{className:Y},v(m,!1)),n.createElement("div",{className:H},v(m,!0)),n.createElement("div",{className:K},m.email)),n.createElement("div",{className:I()({[$]:!0,"members_list_row--flexRight--iwR1Y":e.isModal})},n.createElement("span",{onClick:()=>{f.response="deny",(0,ei.trackEvent)("permission_request_responded",f),t(es.UF({requestId:e.request.id}))},className:Q,role:"button",tabIndex:-1},(0,d.tx)("file_browser.team.dismiss")),n.createElement("span",{onClick:()=>{(0,ei.trackEvent)("permission_request_responded",f),t(es.Jd({requestId:e.request.id,level:i,teamId:e.request.teamId,email:e.request.user.email??"",user:m}))},className:Q,role:"button",tabIndex:-1},(0,d.tx)("file_browser.team.approve"))),n.createElement("div",{className:e.isModal?W:$},n.createElement("div",{ref:l},n.createElement("div",{className:J,role:"button",tabIndex:0,onClick:()=>{c.length>1&&u(120+p)}},n.createElement("span",null,(0,O.QN)(i)),c.length>1&&n.createElement(A.B,{svg:ea.A,className:Z})),a&&a.data.requestId===e.request.id&&c.length>1&&n.createElement(S.ms,{className:X,style:g},c.map(e=>n.createElement(S.MM,{key:e,onClick:i!==e?()=>{_(e)}:void 0,checked:i===e},(0,O.QN)(e)))))))}function em(e){let t=(0,g.Rs)(b.Cb9,{teamId:e.teamId});if("loaded"===t.status){let a=t.data.team?.pendingTeamRoleRequests?.map(t=>n.createElement(ec,{request:t,key:t.id,isModal:e.isModal}));return a&&a.length>0?n.createElement(n.Fragment,null,a,n.createElement("div",{className:e.isModal?"members_list_row--pendingRequestDividerModal--tjuPV members_list_row--pendingRequestDivider--djtil":"members_list_row--pendingRequestDivider--djtil"})):n.createElement(n.Fragment,null)}return n.createElement(n.Fragment,null)}function eu(e){let{rolesByUserId:t,lgDataLoaded:a,lgData:l}=function(e){let t=(0,g.Rs)(b.N66,{teamId:e},{enabled:!!(0,u.k)().team_member_modal_lg_cutover}),a=t.transform(e=>e.team?.roles.reduce((t,a)=>{let n=!!e.team?.studentTeamAt;return t[e_({id:a.id,user_id:a.userId,pending:a.pending})]=function(e,t){let a={id:t.id,created_at:t.createdAt.toISOString(),updated_at:t.updatedAt.toISOString(),level:t.level,resource_type:f.vt.TEAM,resource_id_or_key:t.resourceId,hasValidEduGracePeriod:!!t.eduGracePeriod?.isValid,isStudent:!!t.user?.studentValidatedAt,isStudentTeam:e};return t.pending?{...a,user_id:null,pending:!0,pendingEmail:t.pendingEmail,user:{id:t.user?.id??"",email:t.pendingEmail??void 0}}:{...a,user_id:t.userId,pending:!1,pendingEmail:null,user:{id:t.user?.id??"",email:t.user?.email??"",img_url:t.user?.imgUrl??"",handle:t.user?.handle??""}}}(n,a),t},{})),n=(0,r.d4)(t=>t.roles.byTeamId[e]||{});return{rolesByUserId:(0,v.u8)({oldValue:n,oldValueReady:!0,newValue:a.data,newValueReady:"loaded"===t.status,label:E.A.MembersList.teamRoles,enableFullRead:!!(0,u.k)().team_member_modal_lg_cutover,comparator:eg,contextArgs:{teamId:e},maxReports:10})??{},lgData:a.data,lgDataLoaded:"loaded"===t.status}}(e.teamId),i=(0,r.d4)(t=>t.teamMembersByTeamId[e.teamId]||{}),s=(0,g.Rs)(b.yQw,{teamId:e.teamId}),o=e=>{if(!a||!l)return null;let t=e_(e);if(!l[t])return!1;let n=l[t];return!!n.isStudentTeam&&n.level!==h.e6.VIEWER&&!e.pending&&!n.level&&!(n.isStudent||l[t].hasValidEduGracePeriod)},c=e=>{if(!a||!l)return null;let t=e_(e);return l[t]?.user?.email??null},_=(()=>{let e={};return Object.values(i).forEach(t=>{t.team_role&&(e[t.team_role.id]=t)}),e})(),p=(()=>{let e=[],a={},n=new Set;Object.values(t).forEach(t=>{if(t.pending){e.push(t);return}a[t.user.id]=t,n.add(t.user?.email)});let r=e.filter(e=>!n.has(e.user?.email));return Object.values(a).concat(...r).sort((e,t)=>!0===e.pending&&!0===t.pending?e.user.email.toLowerCase()<t.user.email.toLowerCase()?-1:1:!0===e.pending?1:!0===t.pending?-1:e.user.handle.toLowerCase()<t.user.handle.toLowerCase()?-1:1)})(),y=!p.some(e=>e.level===h.e6.OWNER||e.level===h.e6.ADMIN),T="loading"===s.status,I=!a&&!!(0,u.k)().team_member_modal_lg_cutover;return((0,v.Vy)({isReady:"loaded"===s.status,label:E.A.MembersListRow.teamV2,variant:"new"}),0===p.length)?n.createElement("div",null,(0,d.tx)("file_browser.team.no_members")):T||I?n.createElement("div",{className:"members_list--loadingSpinnerContainer--2hZae"},n.createElement(m.k,null)):n.createElement("div",null,n.createElement(em,{teamId:e.teamId,isModal:!0}),p.map(t=>n.createElement("div",{key:t.id,className:"members_list--memberRowForModal--g9CYe"},n.createElement(el,{teamId:e.teamId,teamMember:_[t.id],teamRole:t,key:`team-role-${t.id}`,teamIsOrphaned:y,isModal:!0,teamLgResult:s,isEduRestrictedLg:o(t),emailLg:c(t)}))))}function e_(e){return e.pending?`pending-${e.id}`:e.user_id??""}let ep=["level","resource_id_or_key","pending"];function eg(e,t){let a=[];return Object.entries(e).forEach(([e,n])=>{ep.forEach(r=>{let l=p()(n,r),i=p()(t,`${e}.${r}`);l!==i&&a.push({newValue:i,oldValue:l,severity:"high",path:[e,r]})})}),a}var eE=a(151223),ev=a(443074),ef=a(863270),eb=a(222556),eh=a(860790),ey=a(679996),eT=a(411910),eI=a(7373),eS=a(773293),eA=a(446951),ew=a(97790),eN=a(414607);function eR(e){return n.createElement("div",{className:"mobile_settings_tool_bar--fixedToolbar--DJIrS",style:{width:e.width}},n.createElement("div",{className:"mobile_settings_tool_bar--tabContainer--yD8Zf"},e.tabs),n.createElement(s.s_,{dispatch:e.dispatch,customStyle:{position:"static",marginTop:"8px",marginRight:"15px",marginLeft:"auto"}}))}var eC=a(120784),ek=a(428968),ex=a(297638),eO=a(253332),eL=a(361053);function eM(e){let t=(0,r.d4)(e=>e.roles||{});return(0,eO.n0)(e.team)&&e.canAdmin?n.createElement("div",{className:ex.s.font12.lh16.pt8.pr32.pb16.pl4.colorText.$},(0,d.tx)("file_browser.team_settings_modal.paid_status_explanation_no_link")):n.createElement("div",{className:"team_settings_modal--membersHeader--Ac-UZ"},n.createElement(w.E,{color:"secondary",fontSize:12},e.team.name,(0,d.tx)("file_browser.team_settings_modal.members_tab_header",{numMembers:(0,eL.pG)(t,e.team.id).length})))}var eq=a(566371),eP=a(870567),eD=a(329228),eU=a(129170),eF=a(174121),eB=a(512907),eG=a(605559),eV=a(477087),e$=a(790759),eW=a(912310),ez=a(679617),ej=a(957872),eQ=a(499668),eH=a(989884),eY=a(660580),eK=a(407638),eX=a(138528),eJ=a(579589),eZ=a(882839),e0=a(432843),e8=a(790873),e1=a(982629),e4=a(427617),e6=a(224376),e3=a(864848),e5=a(155865),e7=a(996775),e9=a(200843),e2=a(94766),te=a(748008),tt=a(264478),ta=a(949325),tn=a(314979),tr=a(925085),tl=a(658444),ti=a(583940),ts=a(890257),to=a(663128);let td={spinner:"ai-settings-spinner",dataSharingEnabledSwitch:"ai-settings-ai-enabled-switch",aiEnabledSwitch:"ai-settings-data-sharing-enabled-switch"},tc=(0,eA.Ju)(function(){let e=(0,r.wA)(),t=(0,eL.cD)(),a=(0,g.Rs)(b.ZY7,{teamId:t}),l=(0,te.oA)(a.data?.team),i=!l,s=!!l?.studentTeamAt&&!l?.isAiDataSharingEnabled,c=async a=>{try{await ti.$.updateAiFeaturesDisabled({teamId:t,aiFeaturesDisabled:!a});let n=a?(0,d.t)("admin_settings.ai.enable_success"):(0,d.t)("admin_settings.ai.disable_success");e(tn.s.flash(n))}catch{e(tn.s.error((0,d.t)("file_browser.file_browser_actions.team_update_error")))}},m=async a=>{try{await ti.$.updateAiDataSharing({teamId:t,enabled:a}),(0,ei.trackEvent)("ai_data_sharing_toggled",{team_id:t,enabled:a}),e(tn.s.flash((0,d.t)("admin_settings.ai.data_sharing.update_success")))}catch(t){e(tn.s.error((0,d.t)("admin_settings.ai.data_sharing.update_error")))}};return n.createElement(ts.XV,{title:n.createElement(tr.Y,{width:"hug-contents",padding:{left:8}},n.createElement(w.E,{fontWeight:"medium"},(0,d.tx)("admin_settings.ai.section_title")),n.createElement(eU.Ex,{color:eU.zE.BRAND,text:(0,d.t)("general.beta")})),onClose:()=>{e(R.Lo())},fixedTop:!0},i?n.createElement(tr.Y,{padding:64},n.createElement(o.qc,{testId:td.spinner})):n.createElement(tr.Y,{direction:"vertical",padding:{top:20,left:16,right:16,bottom:16},spacing:16},n.createElement(tr.Y,{horizontalAlignItems:"space-between",verticalAlignItems:"start"},n.createElement(tr.Y,{direction:"vertical",spacing:4},n.createElement(w.E,{fontWeight:"medium"},(0,d.tx)("admin_settings.ai.features_toggle.label")),n.createElement(w.E,{color:"secondary"},(0,d.tx)("admin_settings.ai.features_toggle.description.team",{learnMoreLink:n.createElement(tt.CY,{href:tl.dC.aiFeatures,target:"_blank",trusted:!0},n.createElement(w.E,null,(0,d.tx)("general.learn_more")))}))),n.createElement(e2.d,{label:n.createElement(n.Fragment,null),checked:!l.aiFeaturesDisabledAt,onChange:c,htmlAttributes:{"data-testid":td.aiEnabledSwitch}})),n.createElement(tr.Y,{horizontalAlignItems:"space-between",verticalAlignItems:"start"},n.createElement(tr.Y,{direction:"vertical",spacing:4},n.createElement(w.E,{fontWeight:"medium"},(0,d.tx)("admin_settings.ai.data_sharing.label")),n.createElement(w.E,{color:"secondary"},(0,d.tx)("admin_settings.ai.data_sharing.description.team",{learnMoreLink:n.createElement(tt.CY,{href:tl.dC.aiDataSharing,target:"_blank",trusted:!0},n.createElement(w.E,null,(0,d.tx)("general.learn_more")))}))),n.createElement(e2.d,{label:n.createElement(n.Fragment,null),checked:l.isAiDataSharingEnabled,onChange:m,disabled:s,htmlAttributes:{"data-testid":td.dataSharingEnabledSwitch,"data-tooltip":s?(0,d.t)("admin_settings.ai.data_sharing.disabled_for_student_teams"):void 0,"data-tooltip-type":P.Ib.TEXT,"data-tooltip-show-above":!0,"data-tooltip-timeout-delay":50,"data-tooltip-tip-align-right":!0}})),!(0,tl.aT)()&&n.createElement(ta.z,{variant:"brand",orientation:"vertical",title:(0,d.t)("admin_settings.ai.data_sharing.takes_effect.title",{date:tl.Jq}),iconSrc:to.A},n.createElement(w.E,null,(0,d.tx)("admin_settings.ai.data_sharing.takes_effect.description",{helpCenterLink:n.createElement(tt.CY,{href:tl.dC.figmaApproachToAi,target:"_blank",trusted:!0},n.createElement(w.E,null,(0,d.tx)("admin_settings.ai.data_sharing.takes_effect.help_center_link")))})))))},"TEAM_AI_SETTINGS_MODAL"),tm="settings_view--blueLink--F3vR6 blue_link--blueLink--9rlnd",tu="settings_view--redLink--LDeOm blue_link--blueLink--9rlnd",t_="settings_view--section--jKGaH",tp="settings_view--sectionHeader--BTMnl text--fontPos13--xW8hS text--_fontBase--QdLsd",tg="settings_view--upgradeBanner--RCQfq",tE="settings_view--upgrageBannerIcon--yMYzd",tv="settings_view--upgradeBannerBody--n82sx",tf="settings_view--blueLinkForBanner--b0V8l settings_view--blueLink--F3vR6 blue_link--blueLink--9rlnd",tb="settings_view--accessIcon--7RIy3";var th=a(401431),ty=a(442539);function tT(e){let t=(0,r.wA)(),a=e.team,l=(0,r.d4)(e=>(0,eK.getPermissionsState)(e)),i=a.org_id?l.orgById[a.org_id]:null,s=(0,n.useMemo)(()=>({teamId:a.id,orgId:a.org_id,canAdmin:(0,eK.canAdminTeam)(a.id,l),description:a.description||"",communityProfileHandle:a.community_profile_handle,communityProfileId:a.community_profile_id}),[a,l]),[o]=(0,eY.IT)((0,b.vD4)({teamId:e.team.id})),[c]=(0,eD.mI)(o),m=(0,n.useMemo)(()=>{if("loaded"!==c.status||!c.data.team)return null;let t=c.data.team;return{teamId:e.teamId,orgId:t?.orgId,canAdmin:t?.canAdmin,description:t?.description||"",communityProfileId:t?.communityProfile?.id||null,communityProfileHandle:t?.communityProfile?.profileHandle??null}},[c,e.teamId]),u=(0,v.u8)({oldValue:s,newValue:m,label:v.A5.TeamSettingsView.teamInfo,enableFullRead:(0,eQ.DQ)(eQ.Pw.GROUP_7)}),_=(0,eX.Xd)("TeamSettingsView"),p=(0,eX.rs)("TeamSettingsView"),E=(0,n.useMemo)(()=>{let e=p.unwrapOr(null),t=_.unwrapOr(null);return e&&t?{isProOrStudentTeam:e.tier===f.Ag.PRO||e.tier===f.Ag.STUDENT,isStudentTeam:e.tier===f.Ag.STUDENT,canAdminOrg:(0,eX.A8)(t,f.Xn.ADMIN),isOrgGuest:(0,eX.Ty)(t)}:null},[p,_]),h=(0,n.useMemo)(()=>{if("loaded"!==c.status||!c.data.team||!c.data.team.currentPlanUser)return null;let e=c.data.team.currentPlanUser,t=c.data.team.plan.tier;return{isProOrStudentTeam:t===f.Ag.PRO||t===f.Ag.STUDENT,isStudentTeam:t===f.Ag.STUDENT,canAdminOrg:!!e&&(0,eX.A8)(e,f.Xn.ADMIN),isOrgGuest:e?.key.type===f.h4.ORG_USER&&e?.permission===f.Xn.GUEST}},[c]),y=(0,v.u8)({oldValue:E,newValue:h,label:v.A5.TeamSettingsView.planData,enableFullRead:(0,eQ.DQ)(eQ.Pw.GROUP_6)}),T=!y?.isOrgGuest,I=y?.canAdminOrg||u?.canAdmin&&!u?.orgId,S=!!(0,r.d4)(e=>(0,eJ.p)(e)),C=(0,e7.t2)(),k=(0,e7.X8)(!!c.data?.team?.canEdit,(0,eX.zQ)(c.data?.team?.plan??null)),x=(0,v.u8)({oldValue:C,newValue:k,newValueReady:"loaded"===c.status,label:v.A5.TeamSettingsView.showPalettes,enableFullRead:(0,eQ.DQ)(eQ.Pw.GROUP_6)}),O=e.billing.summary.annual_subscription,L=e.billing.summary.monthly_subscription,M=!!O&&!O.canceled_at,q=!!L&&!L.canceled_at,D=!u?.orgId&&!y?.isProOrStudentTeam&&u?.canAdmin,F=n.useMemo(()=>{if("loaded"===c.status&&c.data)return c.data.team?.workspace},[c]),B=(0,eH.H)({useCurrentPlan:!0}),G=c.data?.team&&eP.oA(c.data.team)?.hasActiveProjectConnection,V=(0,g.Rs)(b.WEk,{teamId:a.id}),$=V.data?.team?.pendingAssetTransferRequest,W=$&&{id:$.id,source_user_email:$.sourceUser?.email,destination_user_email:$.destinationUser?.email,is_transfer_copy:$.isTransferCopy}||void 0;if("loaded"!==c.status)return null;let z=()=>{if(!y?.isProOrStudentTeam){t((0,R.to)({type:eF.V,data:{teamId:u?.teamId,upsellSource:ey.b.TEAM_SETTINGS_MODAL,openCheckoutInNewTab:!0,onDone:()=>{t(R.ES({type:"TEAM_SETTINGS_MODAL"}))}}}));return}t(ez.Bq({openInNewTab:!0,upsellSource:ey.b.TEAM_SETTINGS_VIEW}))},j=e=>{t((0,R.to)({type:e6.H,data:{team:a,subscriptionStatus:e}}))},Q=e=>e.sharing_audience_control?e.sharing_audience_control:e.org_access?e.org_access===f.bU.PUBLIC&&"edit"===e.default_permission?f.PQ.ORG_EDIT:e.org_access===f.bU.PUBLIC?f.PQ.ORG_VIEW:void 0:f.PQ.INVITE_ONLY;return n.createElement("div",null,n.createElement("div",null,n.createElement("div",{className:t_},n.createElement("div",{className:tp},(0,d.tx)("file_browser.team_settings.team_name")),n.createElement("div",null,a.name),u?.canAdmin&&n.createElement("div",null,n.createElement("button",{className:tm,onClick:()=>{t((0,R.to)({type:(0,eW.h)(),data:{team:a}}))}},(0,d.tx)("file_browser.team_settings.change_name")))),(u?.canAdmin||u?.description)&&n.createElement("div",{className:t_},n.createElement("div",{className:tp},(0,d.tx)("file_browser.about")),n.createElement("div",null,u?.description),u?.canAdmin&&n.createElement("div",null,n.createElement("button",{className:tm,onClick:()=>{t((0,R.to)({type:(0,eV.r)(),data:{team:a}}))}},u?.description?(0,d.tx)("file_browser.team.change_description"):(0,d.tx)("file_browser.team.add_a_description"))))),u?.canAdmin&&a.org_access!==f.bU.SECRET&&n.createElement("div",{className:t_},n.createElement("div",{className:tp},(0,d.tx)("file_browser.team_settings_modal.community_profile")),n.createElement("div",null,u?.communityProfileHandle?(0,d.t)("file_browser.team_settings.team_community_handle",{communityProfileHandle:u?.communityProfileHandle}):""),n.createElement("div",null,n.createElement("button",{className:tm,onClick:()=>{t((0,R.to)({type:e1.S3,data:{teamId:u?.teamId,profileId:u?.communityProfileId||"",profileHandle:u?.communityProfileHandle||""}}))}},u?.communityProfileHandle?(0,d.t)("file_browser.team_settings.change_profile_handle"):(0,d.t)("file_browser.team_settings.set_profile_handle"))),u?.communityProfileHandle&&n.createElement("div",null,n.createElement("button",{className:tm,onClick:()=>{u?.communityProfileId&&u?.communityProfileHandle&&t((0,R.to)({type:e4.M,data:{dispatch:t,profileId:u?.communityProfileId,handle:u?.communityProfileHandle}}))}},(0,d.tx)("file_browser.team_settings.delete_profile"))),u?.communityProfileHandle&&u?.orgId&&n.createElement("div",null,n.createElement("button",{className:tm,onClick:()=>{u?.communityProfileId&&t((0,R.to)({type:e8.J,data:{profileId:u?.communityProfileId||"",profileHandle:u?.communityProfileHandle||"",emptyStateText:(0,d.t)("file_browser.team_settings.community_restricted_handles",{communityProfileHandle:u?.communityProfileHandle||""})}}))}},(0,d.tx)("file_browser.team_settings.manage_restricted_commenters")))),n.createElement("div",{className:t_},n.createElement("div",{className:tp},u?.orgId?(0,d.tx)("file_browser.team_settings.shared"):(0,d.tx)("file_browser.team_settings_modal.libraries")),n.createElement("div",null,n.createElement("button",{className:tm,onClick:()=>{t((0,R.to)({type:e0.T,data:{teamId:u?.teamId,entrypoint:eZ.r6.TEAMS_SETTINGS_VIEW_TEAM_LIBRARIES}}))}},(0,d.tx)("file_browser.team_settings.view_team_libraries"))),S&&n.createElement("div",null,n.createElement("button",{className:tm,onClick:()=>{t((0,R.to)({type:e0.lN,data:{entrypoint:eZ.r6.TEAMS_SETTINGS_VIEW_TEAM_FONTS}}))}},(0,d.tx)("file_browser.team_settings.view_team_fonts"))),x&&n.createElement("div",null,n.createElement("button",{className:tm,onClick:()=>{t((0,R.to)({type:e9.j,data:{showMakeDefaultButton:!0,entryPoint:"team settings"}}))}},(0,d.tx)("file_browser.team_settings.view_team_figjam_palettes")))),u?.orgId!=null&&a.org_access&&n.createElement("div",{className:t_},n.createElement("div",{className:tp},(0,d.tx)("file_browser.settings.access")),n.createElement("div",null,(()=>{let e=Q(a),t=F||null,r=n.createElement(A.B,{className:tb,svg:th.A});return(e===f.PQ.ORG_EDIT||e===f.PQ.ORG_VIEW)&&i?r=n.createElement("div",{className:tb},n.createElement(A.B,{svg:ty.A})):(e===f.PQ.WORKSPACE_EDIT||e===f.PQ.WORKSPACE_VIEW)&&(r=n.createElement("div",{className:tb},t&&n.createElement(U.z6,{entity:t,size:20}))),n.createElement("div",{className:"settings_view--accessDescription--qxQcN"},r,n.createElement("div",null,(0,e3.wO)(f.vt.TEAM,i,t,e)))})(),u?.canAdmin&&i&&n.createElement("span",{role:"button",tabIndex:0,className:"settings_view--editAccessLink--HOsAC modal--blueLink--9GcJu blue_link--blueLink--9rlnd",onClick:()=>{t((0,R.to)({type:e5.dW,data:{team:a,goBack:()=>{t((0,R.Lo)())}}}))}},(0,d.tx)("team_view.team_permissions_modal.change"))),!u?.canAdmin&&n.createElement("div",null,n.createElement(w.E,{color:"secondary"},(0,d.tx)("file_browser.team_settings.team_admins_and_owners_can_change")))),D&&n.createElement("div",{className:t_},n.createElement("div",{className:tp},(0,d.tx)("admin_settings.ai.section_title"),n.createElement("span",{className:ex.s.inlineFlex.ml8.$},n.createElement(eU.Ex,{color:eU.zE.BRAND,text:(0,d.t)("general.beta")})),n.createElement(eq.B,{"data-tooltip-type":P.Ib.TEXT,"data-tooltip":(0,d.t)("admin_settings.ai.section_title.free_in_beta"),"data-tooltip-timeout-delay":50})),n.createElement("div",null,n.createElement("button",{className:tm,onClick:()=>{t((0,R.to)({type:tc}))}},(0,d.tx)("admin_settings.ai.manage_settings_link")))),y?.isProOrStudentTeam&&!y?.isStudentTeam&&u?.canAdmin&&n.createElement("div",{className:t_},n.createElement("div",{className:tp},(0,d.tx)("settings_table.plan_and_billing")),n.createElement("div",null,(0,d.tx)("file_browser.team_settings_modal.admin_console_billing_nudge")),n.createElement("button",{className:tm,onClick:()=>{t(N.$T({view:"teamAdminConsole",teamId:e.team.id,teamAdminConsoleViewTab:eS.Iv.BILLING})),t((0,R.Lo)())}},(0,d.tx)("file_browser.team_settings_modal.admin_console_billing_button"))),T&&n.createElement("div",{className:t_},n.createElement("div",{className:tp},(0,d.tx)("file_browser.team_settings.transfer")),n.createElement("div",null,W&&n.createElement(n.Fragment,null,n.createElement("div",null,(0,d.tx)("file_browser.team_settings.source_user_sent_destination_user_a_request_to_transfer_this_team",{sourceUserEmail:W.source_user_email,destinationUserEmail:W.destination_user_email})),I&&n.createElement("div",null,n.createElement("button",{className:tu,onClick:()=>{W&&t(R.to({type:(0,e$.d)(),data:{pending:W,canRevokeProjectTransfer:!0,isTransferTeam:!0}}))}},(0,d.tx)("file_browser.folder_settings.revoke")))),!W&&I&&(B&&G?(0,d.tx)("file_browser.team_settings.transfer_teams_without_active_connected_projects"):(0,d.tx)("file_browser.team_settings.transfer_team_link_to_an_external_organization",{transferTeamLink:n.createElement("button",{className:tm,onClick:()=>{t((0,R.to)({type:(0,eB.Lg)(),data:{teamId:a.id,entryPoint:eB.Lq.ORG_TEAM_SETTINGS}}))}},(0,d.tx)("file_browser.team_settings.transfer_team"))})),!W&&!I&&n.createElement(n.Fragment,null,n.createElement("div",null,(0,d.tx)("file_browser.team_settings.only_org_name_admins_can_select_an_external_organization_to_manage_this_team",{orgName:i?.name})),n.createElement("div",null,n.createElement("button",{className:tm,onClick:()=>{t((0,R.to)({type:(0,eG.Y)(),data:{planId:a.org_id||a.id,planType:a.org_id?f.OL.ORG:f.OL.TEAM,planName:a.name,entryPoint:eB.Lq.ORG_TEAM_SETTINGS,resourceType:"team",resourceIdOrKey:a.id}}))}},(0,d.tx)("file_browser.team_settings.see_who_can_help_with_transfers")))))),!y?.isProOrStudentTeam&&!u?.orgId&&u?.canAdmin&&n.createElement(n.Fragment,null,n.createElement("div",{className:t_},n.createElement("div",{className:tp},(0,d.tx)("team_view.settings_table.delete_team")),n.createElement("div",null,(0,d.tx)("team_view.settings_table.delete_team_description")),n.createElement("div",null,n.createElement("button",{className:tu,onClick:()=>j(M||q)},(0,d.tx)("file_browser.team_settings.delete_team")))),n.createElement("div",{className:tg},n.createElement(A.B,{className:tE,svg:to.A}),n.createElement("div",{className:tv},n.createElement("strong",null,(0,d.tx)("upgrade.ready_to_go_beyond_free_plan")),n.createElement("div",null,(0,d.tx)("upgrade.more_features"),n.createElement(ef.$z,{className:tf,onClick:z,trackingProperties:{trackingDescriptor:ej.c.UPGRADE,upsellSource:ey.b.TEAM_SETTINGS_MODAL}},(0,d.tx)("upgrade.view_plans")))))),y?.isProOrStudentTeam&&u?.canAdmin&&n.createElement("div",{className:tg},n.createElement(A.B,{className:tE,svg:to.A}),n.createElement("div",{className:tv},n.createElement("div",null,(0,d.tx)("file_browser.team_settings_modal.upgrade_to_organization"),n.createElement(ef.$z,{className:tf,onClick:z,trackingProperties:{trackingDescriptor:ej.c.UPGRADE_TO_ORGANIZATION,upsellSource:ey.b.TEAM_SETTINGS_MODAL}},(0,d.tx)("file_browser.team_settings_modal.upgrade"))))))}var tI=a(783902);let tS=(0,ek.rw)();var tA=(e=>(e.SETTINGS="SETTINGS",e.MEMBERS="MEMBERS",e))(tA||{});let tw=(0,eE.nF)(async(e,{teamId:t,canViewTeam:a})=>{await eT.kb.promise,t&&a&&(0,eh.xN)(t,e)});function tN(e){let t={MEMBERS:(0,d.t)("file_browser.team_settings_modal.members_tab"),SETTINGS:(0,d.t)("file_browser.team_settings_modal.settings_tab")},a=n.useRef(null),{setToolbarWidth:r}=e;n.useEffect(()=>{if(a){let e=a.current?.offsetWidth;e&&r(e)}},[r]);let i=e.team.org_id,o=i?[n.createElement("div",{key:"SETTINGS",className:"team_settings_modal--settingsHeader--tGppe"},t.SETTINGS)]:(0,l.WI)(Object.entries(t).map(([t,a])=>{if("SETTINGS"===t&&e.canEditTeam||"MEMBERS"===t)return n.createElement(tS,{tab:t,mobileNavTabTitle:a,selectedTab:e.selectedTab,key:t,onClick:()=>e.setTab(t)},a)}));return e.isMobile?n.createElement(eR,{tabs:o,dispatch:e.dispatch,width:"100vw"}):n.createElement("div",{className:"team_settings_modal--settingsModalToolbarFixedContainer--oecTk",style:{minWidth:e.contentWidth},ref:a},n.createElement(eC.i,{containerClassName:`${i?"team_settings_modal--toolBarSettingsOnly--281il team_settings_modal--toolBarContainer--O-2hM":"team_settings_modal--toolBarContainerFullWidth--XliLu team_settings_modal--toolBarContainer--O-2hM"} team_settings_modal--borderRadius--NeGkl`,tabs:o}),n.createElement(s.s_,{dispatch:e.dispatch,className:i?"team_settings_modal--settingsOnlyCloseButton--r1V-e":"team_settings_modal--settingsCloseButton--nkdXd",onClose:()=>tC(e.dispatch,e.team,e.viewOnClose)}))}let tR="TEAM_SETTINGS_MODAL",tC=(e,t,a)=>{e(N.$T(a))},tk=(0,eA.Ju)(function(e){let t=(0,r.wA)(),a=n.useRef(null),[l,s]=n.useState(-1),d=eb.h.useTrackingContext({trigger:ey.b.TEAM_SETTINGS_MODAL}),{canAdmin:m,canEdit:u,canView:_,entryView:p}=e,g=e.teamSettingsProps,E=(0,r.d4)(e=>e.teams[g.team.id]),v=(0,r.d4)(e=>e.avatarEditorState);if(n.useEffect(()=>{t(ev.um())},[t]),n.useEffect(()=>{E&&t(tw({teamId:E.id,canViewTeam:_??!1}))},[_,t,E]),!E)return null;let f=i.rr,b=f?window.innerWidth:Math.min(.7*window.innerWidth,650),h=f?window.innerWidth:Math.max(b,l),y=m?n.createElement(ew.FL,{entity:E,entityType:eI.ck.TEAM,avatarEditorState:v,size:80,dispatch:t,avatarSvg:tI.A,svgSizeRatio:.6}):n.createElement(c.nl,{team:E,size:80,avatarSvg:tI.A,svgSizeRatio:.6});return n.createElement(ef.fu,{name:"Team Settings Modal",properties:{teamId:E.id,...d}},n.createElement(eN.aF,{popStack:!0,size:h,height:f?window.innerHeight:.8*window.innerHeight,className:f?"team_settings_modal--fullScreenModal--tXKWs team_settings_modal--modal--MGDMF modal--modal--fXC8G modal--modalShadow--d-rJf modal--modalBare--AlP7E":"team_settings_modal--modalNoPadding--G-piu team_settings_modal--modal--MGDMF modal--modal--fXC8G modal--modalShadow--d-rJf modal--modalBare--AlP7E",modalRef:a,onHide:()=>tC(t,E,p)},n.createElement(tN,{selectedTab:e.tab,setTab:e=>{t(R.hm({type:tR,data:{tab:e,canAdmin:m,canEdit:u,canView:_,teamSettingsProps:g,entryView:p}}));let n="team"===p.view?{view:"team",teamId:E.id,teamViewTab:"SETTINGS"===e?eS.A$.SETTINGS:eS.A$.MEMBERS}:p;t(N.$T(n));let r=a.current;r&&(r.scrollTop=0)},dispatch:t,isMobile:f,contentWidth:b,setToolbarWidth:s,team:E,viewOnClose:p,canEditTeam:u??!1}),n.createElement("div",{className:"team_settings_modal--modalBody--NruoE"},n.createElement("div",{className:"team_settings_modal--avatarContainer--xDqae"},y),"SETTINGS"===e.tab&&n.createElement(ef.fu,{name:"Team Settings"},n.createElement(n.Suspense,{fallback:n.createElement("div",{className:"x1bpp3o7"},n.createElement(o.kt,null))},n.createElement("div",{className:"team_settings_modal--settingsContainer--rJ9jC"},n.createElement(tT,{teamId:g.team.id,team:E,billing:g.billing})))),"MEMBERS"===e.tab&&n.createElement("div",{className:"team_settings_modal--membersContainer--dci-C"},n.createElement(eM,{team:E,canAdmin:m}),n.createElement(eu,{teamId:E.id})))))},tR,eA.ZU.YES)},383592:(e,t,a)=>{a.d(t,{S:()=>o});var n=a(848318),r=a(967688),l=a(746571),i=a(175957),s=a(115044);function o(e){let t=(e=>{switch(e){case i.Ft.PROJECT:return(0,r.t)("file_browser.project");case i.Ft.TEAM:return(0,r.t)("file_browser.team");case i.Ft.WORKSPACE:return(0,r.t)("file_browser.workspace");case i.Ft.LICENSE_GROUP:return(0,r.t)("file_browser.billing_group");default:return(0,r.t)("file_browser.unavailable_view_resource")}})(e.resourceType),a=(e=>{switch(e){case i.Ft.PROJECT:return(0,r.t)("file_browser.project_capitalized");case i.Ft.TEAM:return(0,r.t)("file_browser.team_capitalized");case i.Ft.WORKSPACE:return(0,r.t)("file_browser.workspace_capitalized");case i.Ft.LICENSE_GROUP:return(0,r.t)("file_browser.billing_group_capitalized");default:return(0,r.t)("file_browser.unavailable_view_resource_capitalized")}})(e.resourceType),o=n.createElement("div",{className:"unavailable_view--unavailableViewContainer--GTj3V"},n.createElement("div",{className:"unavailable_view--header---62Pr text--fontPos18--rYXJb text--_fontBase--QdLsd"},(0,r.tx)("file_browser.unavailable_view_resource_not_found",{capitalizedResourceNoun:a})),n.createElement("div",{className:"unavailable_view--detailText--eAn5- text--fontPos14--OL9Hp text--_fontBase--QdLsd"},(0,r.tx)("file_browser.unavailable_view_text",{resourceNoun:t})),n.createElement(s.OnboardGen1WelcomeOverlay,null));return n.createElement(l.r,{content:o})}},141354:(e,t,a)=>{a.d(t,{q:()=>v,V:()=>f});var n=a(848318),r=a(301168),l=a(907031),i=a(580494),s=a(870567),o=a(458608),d=a(967688),c=a(952039),m=a(596510),u=(e=>(e.AdminUpgradeEmail="admin_upgrade_email",e.UnknownDeeplink="unknown_deeplink",e))(u||{}),_=a(961675),p=a(55116),g=a(153821);let E={approvalRequestId:"approvalRequestId",entryPoint:"entryPoint"};async function v(e,t){try{let a=await (0,o.Ek)(p.s7T,{requestId:e}),n=(0,s.oA)(a.accountTypeRequest);if(!n){b(t,(0,d.t)("admin_dashboard.requests.not_found"));return}if("pending"!==n.status){t(c.F.enqueue({message:(0,d.t)("admin_dashboard.requests.this_request_has_already_been_handled"),type:n?.status==="approved"?"requests-approved":"requests-denied"}));return}return n}catch(e){b(t)}}function f(){let e=(0,r.wA)(),[t,a]=(0,n.useState)(!1),[s,o]=(0,n.useState)(),d=(0,i.k)().one_click_approve_on_recents;(0,n.useEffect)(()=>{async function t(t){let n=await v(t,e);n?o(n):a(!0)}if(!d)return;let n=(0,_.QL)(E.approvalRequestId);n&&((0,_.EM)(E.approvalRequestId),t(n))},[e,d]),(0,n.useEffect)(()=>{async function n(t){let n=(0,_.QL)(E.entryPoint),r=(0,l.K)(u,n||"")??u.UnknownDeeplink,i=(0,l.K)(m.ps,t.planType)||m.ps.TEAM;try{let a=await g.w.approveRequests({plan_id:t.planId,plan_type:i,selection_method:m.Xv.DEEPLINK,included_request_ids:[t.id],entry_point:r});if(200===a.status){let a=t.requestableOrgUser?.user?.name??t.requestableTeamUser?.user?.name??"";h(e,a)}else b(e)}catch(t){b(e)}finally{a(!0),(0,_.EM)(E.entryPoint)}}d&&s&&!t&&n(s)},[s,e,t,d])}let b=(e,t)=>{e(c.F.enqueue({message:t||(0,d.t)("admin_dashboard.requests.error_generic"),error:!0}))},h=(e,t)=>{let a=t?(0,d.t)("admin_dashboard.requests.success_approve_with_name",{requesterName:t}):(0,d.t)("admin_dashboard.requests.success_approve_multiple",{numRequests:1});e(c.F.enqueue({message:a,type:"requests-approved"}))}},700624:(e,t,a)=>{a.d(t,{dr:()=>c,eb:()=>m,oU:()=>u});var n=a(848318),r=a(329228),l=a(55116),i=a(660580),s=a(253332),o=a(723437),d=a(94831);function c(e){let[t]=(0,r.IT)((0,l.GyZ)({teamId:e}));return(0,n.useMemo)(()=>t.transform(e=>(0,o.X)(e)),[t])}function m(e){let[t]=(0,r.IT)((0,l.H1b)({teamId:e}));return(0,n.useMemo)(()=>t.transform(e=>(0,o.SN)(e)??[]),[t])}function u({teamId:e,teamPermissions:t,initialValue:a}){let r=i.M4.Team.useValue(e).data,l=(0,n.useCallback)(e=>a||(!(0,s.w5)(r)&&e?d.e6.EDITOR:d.e6.VIEWER),[a,r]),[o,c]=(0,n.useState)(()=>l(!!t?.canEdit));return(0,n.useEffect)(()=>{c(l(!!t?.canEdit))},[t?.canEdit,l]),{default:l(!!t?.canEdit),inviteLevel:o,setInviteLevel:c}}},174091:(e,t,a)=>{a.d(t,{Z:()=>v});var n=a(848318),r=a(301168);if(443==a.j)var l=a(660376);var i=a(410725),s=a(748008),o=a(967688),d=a(952039);if(443==a.j)var c=a(385545);var m=a(31898),u=a(318147),_=a(55116),p=a(138528),g=a(989884);let E=e=>{switch(e){case u.sm.APPROVED:return(0,o.t)("resource_connection.visual_bell.already_approved");case u.sm.DENIED:return(0,o.t)("resource_connection.visual_bell.already_denied");case u.sm.REVOKED:return(0,o.t)("resource_connection.visual_bell.already_revoked");case u.sm.PENDING:return;default:(0,l.xb)(e)}};function v(e){var t;let[a,l]=(0,n.useState)((t=e||"",/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t))?e:void 0),o=(0,r.wA)(),v=(0,p.tJ)("useOpenResourceConnectionReviewModal").unwrapOr(null),f=(0,g.H)({useCurrentPlan:!0}),b=(0,i.Rs)(_.XPZ,{resourceConnectionInviteId:a},{enabled:f&&!!a}),h=(0,n.useMemo)(()=>{let e=(0,s.oA)(b.data?.resourceConnectionInvite);return e&&{resourceConnectionInvite:{...e,resourceName:e.projectLimitedInfo?.name||"",hostInviter:{name:e.hostInviterPublic?.name||"",imgUrl:e.hostInviterPublic?.userPublicImgUrl||null},hostPlan:{name:e.hostPlanName,imgUrl:e.hostPlanImageUrl,type:e.hostPlanType},connectingPlan:{name:e.connectingPlanName,type:e.connectingPlanType}}}},[b]);return(0,n.useCallback)(()=>{if(a&&f&&h&&v&&h?.resourceConnectionInvite.connectingPlanId===v.key.parentId){if(h?.resourceConnectionInvite.status===u.sm.PENDING)o(m.to({type:c.d,data:h}));else{let e=E(h?.resourceConnectionInvite.status);e&&o(d.F.enqueue({message:e}))}l(void 0)}},[h,o,v,a,f])}},481534:(e,t,a)=>{a.d(t,{Bk:()=>m,Pe:()=>c});var n=a(660376),r=a(938982),l=a(998568),i=a(94831),s=a(870924),o=a(265217);let d=(0,s.x1)(i.rT,e=>({id:e.camel(),pending:e.camel(),user_id:e.camel(),level:e.camel(),resource_id_or_key:e.rename("resourceId"),resource_type:e.camel(),created_at:e.camel().custom({toLiveGraph:e=>new Date(e),toSinatra:e=>e.toISOString()}),updated_at:e.camel().stringToDate(),realtime_token:e.drop(),org_user:e.drop(),team_user:e.drop(),user:e.drop()}));function c(e,t){(e.pending||null===e.userId)&&((0,l.$D)(r.e.FRONTEND_PLATFORM,Error("toSinatraConfirmedRole received a pending or null user_id"),{extra:{pending:e.pending,userId:e.userId}}),(0,n.KF)(!1,"toSinatraConfirmedRole received a pending or null user_id"));let a=d.toSinatra(e),i=o.W.toSinatra(t);return{...a,pending:!1,user_id:a.user_id||"",resource_type:a.resource_type,user:i}}function m(e,t){e.pending&&null===e.userId||((0,l.$D)(r.e.FRONTEND_PLATFORM,Error("toSinatraPendingRole received a non-pending or non-null user_id"),{extra:{pending:e.pending,userId:e.userId}}),(0,n.KF)(!1,"toSinatraPendingRole received a non-pending or non-null user_id"));let a=d.toSinatra(e);return{...a,pending:!0,user_id:null,resource_type:a.resource_type,user:t}}(0,s.xi)((e,t,a)=>[e()(d),t(d)(),a(d)()]),(0,s.xi)((e,t,a)=>[e()(d),t(d)(),a(d)()]),(0,s.xi)((e,t,a)=>[e()(d),t(d)(),a(d)()]),(0,s.xi)((e,t,a)=>[e()(d),t(d)(),a(d)()])},265217:(e,t,a)=>{a.d(t,{W:()=>r});var n=a(870924);let r=(0,n.uR)()(e=>({id:e.camel(),name:e.camel().custom({toLiveGraph:e=>e,toSinatra:e=>e||""}),handle:e.camel(),img_url:e.camel(),email:e.camel().custom({toLiveGraph:e=>e,toSinatra:e=>e||""}),description:e.camel(),org_id:e.drop(),appData:e.drop(),auto_open_in_desktop:e.drop(),backup_codes:e.drop(),can_sell_on_community:e.drop(),cmty_buyer_tos_accepted_at:e.drop(),cmty_seller_capabilities:e.drop(),color_profile:e.drop(),community_beta_at:e.drop(),community_blocked_at:e.drop(),community_commenting_blocked_at:e.drop(),community_profile_handle:e.drop(),community_profile_id:e.drop(),community_purchasing_blocked_at:e.drop(),created_at:e.drop(),delete_user_loading:e.drop(),dev_tokens:e.drop(),drafts_folder_id:e.drop(),email_validated_at:e.drop(),experiment_assignments:e.drop(),external_restricted_org_id:e.drop(),google_sso_only:e.drop(),has_content_from_other_plans:e.drop(),has_passed_visual_compliance:e.drop(),hub_file_publishing_blocked_at:e.drop(),job_title:e.drop(),job_title_source:e.drop(),keyboard_layout:e.drop(),locale:e.drop(),mfa_setup_token:e.drop(),mouse_scroll_to_zoom:e.drop(),oauth_tokens:e.drop(),password_token:e.drop(),personal_drafts_folder_id:e.drop(),phone_number:e.drop(),phone_token:e.drop(),plans:e.drop(),plugin_publishing_blocked_at:e.drop(),profile:e.drop(),realtime_token:e.drop(),realtime_token_inactive:e.drop(),right_click_drag_to_pan:e.drop(),saml_sso_only:e.drop(),screenreader_enabled:e.drop(),sharing_restricted:e.drop(),signup_locale:e.drop(),stripe_account_status:e.drop(),student_validated_at:e.drop(),temp_phone:e.drop(),track_tags:e.drop(),two_factor_app_enabled:e.drop(),two_factor_secret_loaded:e.drop(),unsubscribed_at:e.drop(),usage_purpose:e.drop(),utc_offset:e.drop()}));(0,n.xi)((e,t,a)=>[e()(r),t(r)(),a(r)()]),(0,n.xi)((e,t,a)=>[e()(r),t(r)(),a(r)()])},452374:(e,t,a)=>{a.d(t,{k_:()=>b,BP:()=>y,we:()=>h,TG:()=>I});var n=a(999667),r=a(601295),l=a(615233),i=a(129170),s=a(967688),o=a(859172),d=a(578590),c=a(499668),m=a(481534),u=a(870924);let _=(0,u.uR)()(e=>({actor_id:e.camel(),created_at:e.camel().stringToDate(),reason:e.camel(),resource_id_or_key:e.rename("resourceId"),resource_type:e.camel(),team_id:e.camel(),actor_name:e.drop(),editor_type:e.drop(),resource_name:e.drop(),user_id:e.drop()}));(0,u.xi)((e,t,a)=>[e()(_),t(_)(),a(_)()]);var p=a(265217),g=a(318147),E=a(55116),v=a(94831);a(280255);var f=a(693246);function b(e,t,a){if(t||e.team_role?.pending)return null;if(!e.team_role)return a.canAdmin?"invite":null;if(e.team_role.level>=v.e6.ADMIN){if(e.canEditRole)return"revoke"}else if(e.canMakeAdmin)return"grant";return null}function h(e,t){return!!(!t.team_role?.pending&&t.team_role?.level&&t.team_role?.level!==v.e6.VIEWER&&e.student_team)&&!t.edu_edit_access_allowed}function y(e){return e.team_role?.level===v.e6.ADMIN?e.team_role.pending?{color:i.zE.DEFAULT,text:(0,s.t)("team_view.settings.pending_admin")}:{color:i.zE.DEFAULT,text:(0,s.t)("permissions.level_name_capitalized.admin")}:e.team_role?.level===v.e6.OWNER?{color:i.zE.DEFAULT,text:(0,s.t)("permissions.level_name_capitalized.owner")}:e.team_role?.pending?{color:i.zE.DEFAULT,subtle:!1,text:(0,s.t)("team_view.settings.pending")}:void 0}let T=(0,n.Iz)(e=>(0,n.eU)(t=>{let a=t((0,f.mZ)(!0)).data,n=a?a.campfireModelEnabledAt:null;return(0,c.pw)("migrate_team_data_to_livegraph",c.wv.GROUP_1)?t(E.khT.Query({teamId:e})).transform(e=>{let t=e.teamInAdmin;if(!t)return{};let a=t?.teamUsers?Object.fromEntries(t.teamUsers.filter(e=>e.user.email).map(e=>{let{user:a,teamRole:r,activeSeatTypeUpgrade:i,activeDesignUserUpgrade:s,activeWhiteboardUserUpgrade:c}=e,u=e.user.email,E=s?{..._.toSinatra(s),editor_type:s.licenseType&&(0,d.gN)((0,d.gj)(s.licenseType)),user_id:e.user.id,actor_name:s.actor?.name||null,resource_name:null}:void 0,f=c?{..._.toSinatra(c),editor_type:c.licenseType&&(0,d.gN)((0,d.gj)(c.licenseType)),user_id:e.user.id,actor_name:c.actor?.name||null,resource_name:null}:void 0,b=p.W.toSinatra(a),h=(0,l.tl)().analyze_data_flow_v2_until,y={...b,last_active:e.lastActive?e.lastActive?.actionAt.getTime()/1e3:void 0,last_design_active:void 0,last_whiteboard_active:void 0,design_editor_upgrade:E,whiteboard_editor_upgrade:f,edu_edit_access_allowed:void 0,ecc_upgrading_locked:!!e.user.externalRestrictedOrgId,upgrade_reason:e.activeSeatTypeUpgrade?.reason,upgrade_method:e.activeSeatTypeUpgrade?.upgradeMethod,assigned_at:e.activeSeatTypeUpgrade?.reason===g.$n.DEVELOPER_BUNDLE_OPT_IN||e.activeSeatTypeUpgrade?.reason===g.$n.CONVERTED_FROM_LICENSE_TYPE?n||h&&new Date(h)||void 0:i?.createdAt,upgrade_actor_name:i?.actor?.name||void 0,team_user:{id:e.id,user_id:e.user.id,team_id:t.id,active_seat_type:(0,o.TA)(i?.billableProduct)||null,design_paid_status:g.Zf.STARTER,whiteboard_paid_status:g.Zf.STARTER,show_figjam_user_onboarding:!1,created_at:"",updated_at:""},view_roles:{file_count:0,folder_count:0},canEditRole:!!(r&&r.canEdit&&r.level!==v.e6.OWNER),canMakeAdmin:!!r&&!!t.team.canAdmin,canMakeOwner:!!r&&!!t.team.isOwner,canRemoveUser:r?r?.level<v.e6.OWNER:!!e.user.id};return[u,r?{...y,team_role:(0,m.Pe)(r,a),edit_roles:void 0}:{...y,team_role:void 0,edit_roles:{whiteboard_files:[],design_files:[],folders:[]}}]})):{},r=t.team?.pendingRoles?Object.fromEntries(t.team.pendingRoles.filter(e=>!!e.pendingEmail).map(e=>{let a=e.pendingEmail,n=(0,m.Bk)(e,{id:e.userId,email:a});return[a,{id:void 0,name:void 0,email:a,team_role:n,last_active:void 0,design_editor_upgrade:void 0,whiteboard_editor_upgrade:void 0,last_design_active:void 0,last_whiteboard_active:void 0,team_user:void 0,edu_edit_access_allowed:void 0,ecc_upgrading_locked:void 0,upgrade_reason:void 0,upgrade_method:void 0,assigned_at:void 0,upgrade_actor_name:void 0,edit_roles:void 0,view_roles:void 0,canEditRole:e.canEdit,canMakeAdmin:!!t.team.canAdmin,canMakeOwner:!!t.team.isOwner,canRemoveUser:e.level<v.e6.OWNER}]})):{},i={...a};for(let[e,t]of Object.entries(r))i[e]?(i[e].team_role=t.team_role,i[e].canEditRole=t.canEditRole,i[e].canMakeAdmin=t.canMakeAdmin,i[e].canRemoveUser=t.canRemoveUser):i[e]=t;return i}):r.Qw.disabled()}));function I(e){return(0,n.md)(T(e))}},574502:(e,t,a)=>{a.d(t,{S:()=>l});var n=a(795234),r=a(304756);let l=new class{constructor(){this.AssetTransferSchemaValidator=(0,n.vh)(),this.OrgTeamTransfersSchemaValidator=(0,n.vh)(),this.TeamTransferSchemaValidator=(0,n.vh)(),this.FolderTransferSchemaValidator=(0,n.vh)()}getAssetTransfer(e){return this.AssetTransferSchemaValidator.validate(async({xr:t})=>await t.get(`/api/asset_transfer/${e.selectedAssetTransferRequest}`))}getOrgTeamTransfers(e){return this.OrgTeamTransfersSchemaValidator.validate(async({xr:t})=>await t.get(`/api/asset_transfer/org_team_transfers/${e.orgId}`))}getTeamTransfer(e){return this.TeamTransferSchemaValidator.validate(async({xr:t})=>await t.get(`/api/asset_transfer/team_transfer/${e.teamId}`))}getFolderTransfer(e){return this.FolderTransferSchemaValidator.validate(async({xr:t})=>await t.get(`/api/asset_transfer/folder_transfer/${e.folderId}`))}deleteAssetTransferRequest(e){return r.Ay.del(`/api/asset_transfer/${e.id}`)}approveAssetTransferRequest(e){return r.Ay.put(`/api/asset_transfer/${e.id}/approve`,{remove_collaborators:e.removeCollaborators})}}},115044:(e,t,a)=>{a.r(t),a.d(t,{Gen1WelcomeOverlay:()=>b,OnboardGen1WelcomeOverlay:()=>T,OnboardGen1WelcomeOverlay_Inner:()=>h,canShowGen1Welcome:()=>y});var n=a(848318),r=a(301168),l=a(999667),i=a(359822),s=a(533737),o=a(847576),d=a(34542),c=a(638345),m=a(709292),u=a(752181),_=a(263336),p=a(913122),g=a(560764),E=a(564966),v=a(136169),f=a(68999);function b({isShowing:e,onDismiss:t}){return n.createElement(p.b,{isGen1:!0,trackingContextName:"Dynamic Gen1 Welcome Modal",isShowing:e,dataTestId:"NuxDynamicPreviewOverlay-DynamicGen1WelcomeOverlay",onOverlayClose:t})}function h(){let e=(0,r.wA)(),t=!!(0,u.f)("not_gen_0"),a=(0,l.md)(m.NT),c=(0,l.md)(m.g5),p=(0,l.md)(E.pC),{show:g,complete:f,isShowing:h}=(0,d.e)({overlay:v.KoA,priority:_.N.HIGH_PRIORITY_MODAL},[a,c]),T=n.useCallback(()=>{g({canShow:(e,a)=>!p&&y({emailValidatedAt:a,isGen1:t,jobTitle:e})})},[g,p,t]);return((0,i.h)(()=>{T()}),(0,o.Q)(h),h)?n.createElement(b,{isShowing:h,onDismiss:()=>{e(s.b({welcome_onboarded:!0})),f()}}):null}function y(e){let{emailValidatedAt:t,isGen1:a,jobTitle:n}=e;return a&&!(0,g.d)({jobTitle:n,emailValidatedAt:t})}function T(){return(0,l.md)(c.eS).data?n.createElement(f.CJ,null):n.createElement(h,null)}},671e3:(e,t,a)=>{a.d(t,{F:()=>p,j:()=>v});var n=a(848318),r=a(999667),l=a(359822),i=a(967688),s=a(34542),o=a(517776),d=a(263336),c=a(391301),m=a(370715),u=a(556049),_=a(136169);let p="sc_team_creation_modal_onboarding_key",g="seen_sharing_clarity_team_creation_modal_overlay",E=(0,o.r1)(g);function v(){let e=(0,r.md)(E),{show:t,isShowing:a,complete:o}=(0,s.e)({overlay:_.jkr,priority:d.N.DEFAULT_MODAL},[e]);return(0,l.h)(()=>{t({canShow:e=>!e})}),n.createElement(c.rq,{arrowPosition:u.F_.LEFT_TITLE,description:n.createElement("p",null,(0,i.tx)("rcs.sharing_clarity.team_creation_modal_description")),disableHighlight:!0,emphasized:!0,isShowing:a,onClose:o,targetKey:p,title:(0,i.tx)("rcs.sharing_clarity.team_creation_modal_title"),trackingContextName:"Sharing Clarity Team Creation Modal Onboarding",userFlagOnShow:g,zIndex:m.R.MODAL})}},698656:(e,t,a)=>{a.d(t,{Uc:()=>H,MF:()=>Q});var n=a(848318),r=a(301168),l=a(430385),i=a(411799),s=a(962076),o=a(580494),d=a(989232),c=a(238444),m=a(410725),u=a(264478),_=a(345964),p=a(720522),g=a(297638),E=a(967688),v=a(407639),f=a(443074),b=a(31898),h=a(863270),y=a(705693),T=a(511067),I=a(125761),S=a(318147),A=a(55116),w=a(474132),N=a(280255),R=a(723437),C=a(138528),k=a(860790),x=a(94831),O=a(386252),L=a(213374),M=a(825241),q=a(446951),P=a(693476),D=a(125952),U=a(671e3),F=a(120846),B=a(890257),G=a(864848),V=a(948770),$=a(36983);let W="team_creation_modal--sectionHeader--WhxZn text--fontPos11--2LvXf text--_fontBase--QdLsd";var z=a(816161);function j(e){let t=(0,r.wA)(),a=(0,r.d4)(e=>e.contacts),l=(0,r.d4)(e=>e.orgDomains),i=(0,r.d4)(e=>e.orgById),s=(0,r.d4)(e=>e.dropdownShown),d=(0,r.d4)(e=>e.autocomplete),c=(0,I.iZ)(),m=t=>{let a=e.currentOrgId?i[e.currentOrgId]:null;return(0,R.t9)(t,a,l)},u=t=>{let n=e.currentOrgId?i[e.currentOrgId]:null,r=(0,o.k)().team_creation_restricted_guests_err_ui&&n?.invite_whitelist_guest_invite_setting!=null;return(0,R.yI)(t,a.usersByEmail[t]||t,n,l,c.email,r?(0,E.t)("team_creation.restricted_against_adding_external_users"):null)},_=[x.e6.ADMIN,x.e6.EDITOR,x.e6.VIEWER];return e.inviteLevel&&e.onInviteLevelChange?n.createElement(P.e,{SearchResultComponent:V.o,TokenComponent:V.g,autocomplete:d,dispatch:t,dropdownKey:"permissions-invite-dropdown",dropdownShown:s,getSearchResults:t=>(0,k.Wj)(t,a.usersByEmail,c,[],e.currentOrgId,null,null,e.currentOrgUser?.permission===S._D.GUEST,{inviteLevel:e.inviteLevel,source:"team-invite-bar"}),getSelectText:N.C1,inviteLevel:e.inviteLevel,joinLinkShown:!1,onInviteLevelChange:e.onInviteLevelChange,options:_,placeholderText:(0,E.t)("team_creation.add_a_name_or_email"),searchResultToken:m,shouldAutoFocus:!0,validateToken:u,validateTokensAsEmail:!0}):n.createElement(P.e,{SearchResultComponent:V.o,TokenComponent:V.g,autocomplete:d,dispatch:t,dropdownShown:s,getSearchResults:t=>(0,k.Wj)(t,a.usersByEmail,c,[],e.currentOrgId,null,null,e.currentOrgUser?.permission===S._D.GUEST,{inviteLevel:e.inviteLevel,source:"team-invite-bar"}),inviteLevel:e.permissionLevel,joinLinkShown:!1,searchResultToken:m,shouldAutoFocus:!0,validateToken:u})}function Q(e,t){return e===G._9.ORG?t===G.J4.EDIT?S.PQ.ORG_EDIT:S.PQ.ORG_VIEW:e===G._9.WORKSPACE?t===G.J4.EDIT?S.PQ.WORKSPACE_EDIT:S.PQ.WORKSPACE_VIEW:S.PQ.INVITE_ONLY}let H=(0,q.Ju)(function(e){let t=(0,r.wA)(),a=(0,r.d4)(e=>e.currentUserOrgId)??"",N=(0,r.d4)(e=>e.orgById)[a],R=(0,I.iZ)(),k=(0,r.d4)(e=>e.orgDomains),[q,P]=n.useState(!0);(0,n.useEffect)(()=>{(0,d.trackEvent)("team_creation_started",{user_id:R?.id??"",org_id:a})},[]),(0,n.useEffect)(()=>{t(f.um())},[t]);let V=(0,T.Um)(),H=(0,m.Rs)(A.Lqr,{orgId:a}),Y=(0,C.Xd)("TeamCreationModal"),K=(0,C.j_)(Y).unwrapOr(!1),X=(0,n.useMemo)(()=>{if("loaded"===H.status){let e=H.data.org?.workspaces?.filter(e=>e.canCreateTeam)??[];return(0,l.KQ)(e,"name"),e}return[]},[H]),J=(0,n.useMemo)(()=>{if("loaded"===H.status){let e=H.data.currentUser.baseOrgUser?.workspaceUsers?.filter(e=>e.isMainWorkspace);return e&&e.length>0?e[0].workspaceId:L.O}return null},[H]),Z=e.workspaceId,ee=X.find(e=>e.id===Z),et=ee&&ee.orgAccess===S.bU.SECRET?S.bU.PRIVATE:S.bU.PUBLIC,ea=ee&&ee.orgAccess===S.bU.SECRET?G._9.INVITE_ONLY:G._9.ORG,en=(0,n.useMemo)(()=>("loading"!==H.status&&P(!1),"loaded"===H.status)?H.data.currentUser.baseOrgUser:null,[H]),[er,el]=n.useState(0),[ei,es]=n.useState(et);(0,n.useEffect)(()=>{es(et)},[et]);let eo=S.sC.EDIT,[ed,ec]=n.useState(x.e6.EDITOR),[em,eu]=n.useState(e?.workspaceId??J),e_=(0,o.k)().sc_workspace_audience,ep=n.useCallback(e=>{let t=X.find(t=>t.id===e);if(e_&&t)return{id:t.id,name:t.name,imgUrl:t.imgUrl}},[X,e_]),[eg,eE]=n.useState(ep(em));(0,n.useEffect)(()=>{eu(e=>e??J),eE(ep(em))},[J,em,ep]);let ev=(0,r.d4)(e=>e.autocomplete),ef=!!ev.errorMessage,[eb,eh]=n.useState(G.J4.VIEW),[ey,eT]=n.useState(O.Fb.ORG_BROWSABLE),[eI,eS]=n.useState(ea);(0,n.useEffect)(()=>{eS(ea)},[ea]);let[eA,ew]=n.useState(""),[eN,eR]=n.useState(""),eC=(0,C.rs)("TeamCreationModal").transform(e=>e.tier===S.Ag.ENTERPRISE).unwrapOr(!1)&&X.length>0;(K||J===L.O)&&X.length>0&&(X=X.concat({id:L.O,name:(0,E.t)("team_creation.unassigned_workspace"),canCreateTeam:!0,orgAccess:S.bU.PUBLIC,imgUrl:null}));let ek=(0,n.useId)(),ex=(0,o.k)().fpl_textarea_migration?n.createElement(s.T,{onChange:eR,value:eN,placeholder:(0,E.t)("team_creation.optional"),id:ek}):n.createElement(u.ks,{className:"team_creation_modal--descriptionInput--cLVf4",type:"textarea",onChange:e=>eR(e.target.value),value:eN,placeholder:(0,E.t)("team_creation.optional"),id:ek}),eO=e=>n.createElement("div",{className:"team_creation_modal--workspaceIcon--s7G4E"},e&&e.id!==L.O?n.createElement(D.z6,{entity:e,size:16}):n.createElement(p.B,{svg:z.A})),eL=n.createElement(F.l6,{ariaLabel:(0,E.t)("team_creation.workspace"),className:"team_creation_modal--dropdownSelector--7brD- select--selectInputExpanded--Lz6m4",dispatch:t,dropdownShown:V,focusedOption:em??L.O,formatter:{format:e=>X.find(t=>t.id===e)?.name??""},icon:eO(X.find(e=>e.id===em)),id:"create-team-modal-workspace-selector",inputClassName:"team_creation_modal--dropdownSelectorTitleWithIcon--M6VLU",onChange:eu,openBelowTarget:!0,property:em??L.O},X.map(e=>n.createElement(F.c$,{value:e.id,key:e.id,icon:eO(e),rightCheck:!0},e.name))),eM=(0,n.useId)(),eq=n.createElement(n.Fragment,null,n.createElement(u.ks,{className:"team_creation_modal--teamNameInputSC--bbcKV",onChange:e=>ew(e.target.value),value:eA,autoFocus:!0,required:!0,maxLength:O.qg,minLength:1,placeholder:(0,E.t)("team_creation.writer_s_guild_placeholder"),id:eM}));function eP(){let{onSubmitReturnToPrevView:a=!0}=e,n=ed??x.e6.EDITOR;t((0,y.KQ)({teamName:eA,orgAccess:ei,workspaceId:em??void 0,dontRedirect:!a,inviteEmails:(0,M.Z)(ev),defaultPermission:eo,description:eN,sharingAudienceControl:Q(eI,eb),orgBrowsable:eI===G._9.INVITE_ONLY&&ey===O.Fb.ORG_BROWSABLE,hidden:eI===G._9.INVITE_ONLY&&ey===O.Fb.HIDDEN,inviteLevel:n})),e.afterSubmit&&e.afterSubmit(),t(b.Lo())}function eD(){t(b.Lo()),t(v.cL())}return n.createElement(h.fu,{name:"Team Creation"},n.createElement(B.XV,{title:1===er?(0,E.t)("team_creation.add_people_to_team_name",{teamName:eA}):(0,E.t)("team_creation.org_modal_title_sc"),onClose:eD,maxWidth:480},n.createElement("div",{className:g.s.m16.$},0===er?n.createElement(n.Fragment,null,n.createElement(i.Ay,{className:W,htmlFor:eM},(0,E.t)("team_creation.name")),eq,n.createElement(i.Ay,{className:W,htmlFor:ek},(0,E.t)("team_creation.team_description")),ex,eC&&n.createElement(n.Fragment,null,n.createElement("div",{className:W},(0,E.t)("team_creation.workspace")),eL),n.createElement("div",{className:W,"data-onboarding-key":U.F},(0,E.t)("team_creation.who_has_access")),n.createElement(U.j,null),n.createElement(G.YU,{resourceType:S.vt.TEAM,value:eI,onChange:eS,org:N,audienceAccessLevel:eb,workspace:eg}),n.createElement("div",{className:W},eI===G._9.INVITE_ONLY?(0,E.t)("team_creation.visibility"):(0,E.t)("team_creation.what_they_can_do")),eI===G._9.INVITE_ONLY?n.createElement(G.Kd,{selectedDiscoverability:ey,setSelectedDiscoverability:eT}):n.createElement(n.Fragment,null,n.createElement(G.Iz,{selectedPermissionsLevel:eb,setSelectedPermissionsLevel:eh}),n.createElement("div",{className:"team_creation_modal--subtitle--j8wZc text--fontPos11--2LvXf text--_fontBase--QdLsd"},eb===G.J4.VIEW?(0,E.t)("team_creation.can_view_and_comment"):(0,E.t)("team_creation.can_create_and_edit_files")))):q?n.createElement("div",{className:"team_creation_modal--modalSecondStep--L-6u-"},n.createElement("div",{className:"team_creation_modal--loadingState--y80el"},n.createElement(_.qc,null))):n.createElement("div",null,n.createElement(j,{permissionLevel:eo,currentOrgId:a,currentOrgUser:en,inviteLevel:ed,onInviteLevelChange:ec})),n.createElement("div",{className:"team_creation_modal--bottomRow--IWTyZ"},n.createElement("div",{className:"team_creation_modal--footer--EAx7f team_creation_modal--subtitle--j8wZc text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,E.tx)("team_creation.step_number_of_max_steps",{currentStep:er+1,maxSteps:2})),n.createElement("div",{className:"team_creation_modal--buttons--jSrKt"},n.createElement(u.tM,{onClick:eD},(0,E.tx)("project_creation.cancel")),n.createElement(u.vd,{onClick:function(){if(0===er)el(1);else{let e=N&&N.domain_capture&&k.domains.length>0?(0,M.Z)(ev).filter(e=>(0,c.xf)(e)&&!(0,w.H_)(k.domains,e)):[];e.length>0?function(e){if(N?.invite_whitelist_guest_invite_setting==null&&e.length>0){t(b.to({type:$.F,data:{emails:e,onConfirm:()=>{eP()},popStack:!0,orgName:N.name}}));return}}(e):eP()}},disabled:0===er&&0===eA.trim().length||1===er&&ef},0===er?(0,E.tx)("general.continue"):(0,E.tx)("team_creation.create_team")))))))},"TEAM_CREATION_MODAL",q.ZU.YES)},155865:(e,t,a)=>{a.d(t,{dW:()=>S,nH:()=>A});var n=a(848318),r=a(301168),l=a(582039),i=a(309488),s=a(93275),o=a(580494),d=a(264478),c=a(345964),m=a(967688),u=a(407639),_=a(31898),p=a(863270),g=a(705693),E=a(700624),v=a(318147),f=a(386252),b=a(446951),h=a(698656),y=a(864848),T=a(256347),I=a(538002);let S=(0,b.Ju)(function(e){let t=(0,r.wA)(),a=(0,E.dr)(e.team.id).data,o=a&&a.workspace?{id:a.workspace.id,name:a.workspace.name,imgUrl:a.workspace.imgUrl}:void 0,d=()=>{t(_.Ce()),t(u.cL())},g=l.hS({...e,onClose:d});return n.createElement(p.fu,{name:"Team Access Modal",properties:{resourceType:v.vt.TEAM,resourceId:e.team.id}},n.createElement(i.bL,{manager:g,width:"lg"},n.createElement(s.vo,null,n.createElement(s.Y9,null,n.createElement(s.hE,null,e.goBack?n.createElement(T.w,{title:(0,m.t)("team_view.team_permissions_modal.access_settings"),onClick:e.goBack}):n.createElement("div",{className:I.DA},n.createElement("p",null,(0,m.tx)("team_view.team_permissions_modal.access_settings"))))),n.createElement(s.nB,null,a?a.org&&n.createElement(A,{team:e.team,org:a.org,teamSharingSettings:a.teamSharingSettings,hideModal:d,workspace:o}):n.createElement(c.qc,{className:I.Lq})))))},"TeamAccessModal");function A(e){let t=(0,o.k)().sc_workspace_audience,a=(0,r.wA)(),l=n.useCallback(()=>{let t=e.teamSharingSettings&&e.teamSharingSettings.sharingAudienceControl;return t===v.PQ.ORG_EDIT||t===v.PQ.ORG_VIEW?y._9.ORG:t===v.PQ.WORKSPACE_EDIT||t===v.PQ.WORKSPACE_VIEW?y._9.WORKSPACE:y._9.INVITE_ONLY},[e.teamSharingSettings]),i=n.useCallback(()=>{let t=e.teamSharingSettings&&e.teamSharingSettings.orgBrowsable,a=e.teamSharingSettings&&e.teamSharingSettings.hidden;if(t);else if(a)return f.Fb.HIDDEN;return f.Fb.ORG_BROWSABLE},[e.teamSharingSettings]),s=n.useCallback(()=>{let t=e.teamSharingSettings&&e.teamSharingSettings.sharingAudienceControl;return t===v.PQ.ORG_EDIT||t===v.PQ.WORKSPACE_EDIT?y.J4.EDIT:(t===v.PQ.ORG_VIEW||v.PQ.WORKSPACE_VIEW,y.J4.VIEW)},[e.teamSharingSettings]),[c,u]=n.useState(l()),[_,p]=n.useState(i()),[E,b]=n.useState(s()),T=c===y._9.INVITE_ONLY?_&&n.createElement("div",{className:I.$2},n.createElement(y.Kd,{selectedDiscoverability:_,setSelectedDiscoverability:p})):n.createElement(n.Fragment,null,n.createElement(y.Iz,{selectedPermissionsLevel:E,setSelectedPermissionsLevel:b}),n.createElement("div",{className:I.VA},E===y.J4.VIEW?(0,m.t)("team_creation.can_view_and_comment"):(0,m.t)("team_creation.can_create_and_edit_files")));return n.createElement(n.Fragment,null,n.createElement("div",{className:I.bV},(0,m.t)("team_creation.who_has_access")),n.createElement(y.YU,{resourceType:v.vt.TEAM,value:c,onChange:u,org:e.org,audienceAccessLevel:E,workspace:t?e.workspace:void 0}),n.createElement("div",{className:I.bV},c===y._9.INVITE_ONLY?(0,m.t)("team_creation.visibility"):(0,m.t)("team_creation.what_they_can_do")),T,n.createElement("div",{className:I.E_},n.createElement(d.tM,{onClick:e.goBack||e.hideModal},(0,m.tx)("project_creation.cancel")),n.createElement(d.vd,{onClick:()=>{let t=c===y._9.INVITE_ONLY&&_===f.Fb.ORG_BROWSABLE,n=c===y._9.INVITE_ONLY&&_===f.Fb.HIDDEN,r=(0,h.MF)(c,E);if(a((0,g.zK)({team:e.team,sharingAudienceControl:r,orgBrowsable:t,hidden:n})),e.goBack){e.goBack();return}e.hideModal()}},(0,m.tx)("team_view.team_permissions_modal.save"))))}},224191:(e,t,a)=>{a.d(t,{c:()=>p});var n=a(848318),r=a(301168),l=a(582039),i=a(309488),s=a(93275),o=a(531788),d=a(857607),c=a(264478),m=a(967688),u=a(87463),_=a(31898);function p(e){let t=(0,r.wA)();return n.createElement(g,{...e,open:!0,onClose:()=>t(_.Lo())})}function g(e){let{title:t,subtitle:a,initialName:p,maxLength:g,onRename:E,placeholder:v,submitText:f,allowEmptyString:b}=e,h=(0,r.wA)(),[y,T]=n.useState(p),I=t??(0,m.t)("resource_rename_modal.title",{initialName:p}),S=l.hS(e),A=()=>{h(_.Lo())},w=()=>!b&&""===y.trim()||y.trim()===p.trim(),N=()=>{w()||(E(y),A())};return n.createElement(i.bL,{manager:S,width:"md"},n.createElement(s.vo,null,n.createElement(s.Y9,null,n.createElement(s.hE,null,I)),n.createElement(s.nB,{scrolling:"none"},a,n.createElement(c.ks,{autoFocus:!0,className:"resource_rename_modal--input--lUTNz",maxLength:g,placeholder:v,onChange:e=>T(e.currentTarget.value),value:y,onKeyDown:e=>{e.keyCode===d.Uz.ENTER&&(e.preventDefault(),N())}}),g&&n.createElement("div",{className:"resource_rename_modal--lengthCount--n2dbN"},n.createElement(u.E,{color:"secondary"},(0,m.tx)("resource_rename_modal.lengthCount",{currentLength:y.length,maxLength:g})))),n.createElement(s.wi,null,n.createElement(s.jk,null,n.createElement(o.$n,{onClick:A,variant:"secondary"},(0,m.tx)("resource_rename_modal.cancel")),n.createElement(o.$n,{variant:"primary",disabled:w(),onClick:N},f)))))}},737064:(e,t,a)=>{a.d(t,{VU:()=>g,cd:()=>m,jT:()=>p,zx:()=>u});var n=a(848318);if(443==a.j)var r=a(278905);if(443==a.j)var l=a(408193);var i=a(635600),s=a(178806),o=a(967688),d=a(957872),c=a(527041);function m({children:e}){return n.createElement("div",{className:c.Hv},e)}function u({dataOnboardingKey:e,children:t}){let{getTriggerProps:a,manager:i}=r.b(),{isOpen:m}=i;return n.createElement(r.bL,{manager:i,"data-testid":"multi-select-list-menu"},n.createElement("div",{className:m?void 0:c.Ib},n.createElement(s.Me,{...a(),"aria-label":(0,o.t)("multi_select_list.more"),"data-testid":"multi-select-list-menu-cell-icon","data-onboarding-key":e,trackingProperties:{trackingDescriptor:d.c.MORE}},n.createElement(l.J,null))),n.createElement(r.mc,null,t))}function _({children:e}){return n.createElement("div",{className:c.oi,"data-testid":"multi-select-list-icon-column"},e)}function p(){return n.createElement(s.Me,{"aria-label":(0,o.t)("multi_select_list.manage"),trackingProperties:{trackingDescriptor:d.c.MANAGE}},n.createElement(i.a,null))}let g={name:"chevron-right",className:c.oi,cellComponent:(e,{isClickable:t})=>n.createElement(_,null,t?n.createElement(p,null):null)}},564564:(e,t,a)=>{a.d(t,{EK:()=>v,Fd:()=>E,aN:()=>g,wT:()=>m});var n=a(999667),r=a(601295),l=a(524637),i=a(231159),s=a(610345),o=a(407638),d=a(957845);let c=(0,i.bt)(e=>{if("loaded"!==e.orgTeams.status)return r.Qw.loading();let t=e.orgTeams.teams.filter(t=>t.org_id===e.currentUserOrgId);return r.Qw.loaded(t)}),m=(0,n.yu)(c,({target:e})=>{let t=e.getStore();return t.getState().orgTeams.status||t.dispatch(l.Jt({})),()=>{t.dispatch(l.MT())}}),u=(0,i.bt)(e=>(0,o.getPermissionsStateMemoized)(e)),_=(0,n.eU)(e=>{let t=e(m),a=e(u);return t.transform(e=>e.filter(e=>(0,s.ox)(e,a)))}),p=(0,n.eU)(e=>e(_).transform(e=>(0,d.ZM)(e))),g=(0,n.Iz)(e=>(0,n.eU)(t=>t(p).transform(t=>t[e]??0))),E=(0,n.eU)(e=>e(_).transform(e=>e.filter(e=>null===e.workspace_id||void 0===e.workspace_id))),v=(0,n.yu)(c,({target:e})=>{let t=e.getStore();return t.getState().orgTeams.status||t.dispatch(l.Jt({includeMemberCount:!0,includeProjectCount:!0,includeTopMembers:!1})),()=>{t.dispatch(l.MT())}})},287498:(e,t,a)=>{a.d(t,{u:()=>o});var n=a(848318),r=a(912873),l=a(17753),i=a(184283);let s=r.Pf.MEDIUM20;function o(e){let t=e.users.slice(0,e.numAvatarsToDisplay),a=e.users.slice(e.numAvatarsToDisplay);1===a.length&&t.push(a.pop());let o=a.slice(0,25).map(e=>e.handle).join("\n");return n.createElement("div",{className:"avatars_pile--viewersList--nxwgy"},e.totalNum-t.length>0&&n.createElement("div",{className:"avatars_pile--horizontalPileNumber--6h3zK avatars_pile--baseNumber--Qqq-z","data-tooltip-type":l.Ib.TEXT,"data-tooltip":o},e.totalNum-t.length),t.reverse().map(t=>n.createElement("div",{className:"avatars_pile--avatar--6RPYa",key:t.id},n.createElement(i.W,{user:t},n.createElement(r.H8,{user:t,size:e.avatarSize?e.avatarSize:s})))))}}}]);

//# debugId=3e58fbb9-6f54-51a6-bea3-a3c802641789

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/62e389604f9a6bff54640dbe68a9634f39f1a685/373-f399409e58f92ee5.min.js.map